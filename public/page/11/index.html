<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="计算机 比特币 互联网金融 IFWallet" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="区块链爱好者，互联网从业者">
<meta name="keywords" content="bibodeng, blockchain, bitcoin, bitcoin cash, life, programmer">
<meta property="og:type" content="website">
<meta property="og:title" content="bibodeng">
<meta property="og:url" content="https://bibodeng.github.io/page/11/index.html">
<meta property="og:site_name" content="bibodeng">
<meta property="og:description" content="区块链爱好者，互联网从业者">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="bibodeng">
<meta name="twitter:description" content="区块链爱好者，互联网从业者">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> bibodeng </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">bibodeng</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Think By My Mind</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/16/C C++复仇记(上)/" itemprop="url">
                  C C++复仇记(上)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-16T21:46:27+08:00" content="2013-04-16">
              2013-04-16
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/04/16/C C++复仇记(上)/" class="leancloud_visitors" data-flag-title="C C++复仇记(上)">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<div class="art_content" style="font-size:15px;letter-spacing:1px;line-height:1.3em;"><p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">由于前几天的笔试很大程度上刺激了我，让我越发感觉到自己的C/C++基础十分地薄弱，故而想要找几本经典的C/C++书本来深入了解一下C/C++语言特性，以及其中需要注意的问题。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">google了一下C语言经典著作，得到了我想要的结果：</p>
<blockquote style="background-color:#ccff99;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;font-family:'Times New Roman';"><p style="margin-top:0px;margin-bottom:0px;">《C专家编程》</p>
<p style="margin-top:0px;margin-bottom:0px;">《C语言详解》</p>
<p style="margin-top:0px;margin-bottom:0px;">《C语言核心技术》</p>
<p style="margin-top:0px;margin-bottom:0px;">《C陷阱与缺陷》</p>
<p style="margin-top:0px;margin-bottom:0px;">《C和指针》</p>
</blockquote>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">&nbsp;&nbsp;详细请到<a href="http://www.360doc.com/content/12/0331/06/9452699_199493153.shtml" target="_blank" data_ue_src="http://www.360doc.com/content/12/0331/06/9452699_199493153.shtml">C经典著作</a>书单察看介绍。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">正是我想要补的，之前学习C语言，只是泛泛地学习了一些语言特性，然后编写了若干行的代码,知道了怎么使用指针，数组，结构体，以及用它编写二叉树，线性表等数据结构，还有实现了一遍大部分排序算法。</p>
<h3 style="background-color:#000000;color:#ffffff;padding:10px;font-family:'Times New Roman';">语言细节&nbsp;AND&nbsp;正确的程序</h3>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">常常遇到这样的情况，程序写到一半，忘了这个代码的语言细节是什么的，例如++自增的使用，而这往往涉及到程序的正确性。有经验的程序员往往会发现i++和++i在很多情况下有很大不同，一时的麻痹或者粗心，都有可能造成重大的错误。记得之前有一个这样的故事：</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">美国宇航局发射航天飞机，但是因为一个程序员将“；”写成了“，”&nbsp;，最后造成了飞机失事。据说这是最昂贵的错误。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">代码是人编写的，难免会有错误，但是很多错误都是我们不清楚语言细节，或者某个语言的陷阱，从而失足跌倒。现实生活中很多代码都有错误，而黑客总是能够利用各种程序中的缺陷和漏洞，攻破我们的系统，拿走我们的数据和金钱。（我想起了《鹿鼎记》里面的，我们的财宝和女人，哈哈）。所以要写可靠的代码，必须要懂得一些常用的语言细节和规避陷阱的方法。</p>
<h3 style="background-color:#000000;color:#ffffff;padding:10px;font-family:'Times New Roman';">具体的问题</h3>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">我们编程的时候往往运行出结果就ok了，抛下程序去玩了。这是很不正确的学习方法，正确的学习方法应该深入理解程序在计算机程序在编译和运行时做了什么，故而多跟踪调试程序是有好处的。看看每一步都发生了什么，察看内存中的数据起了什么变化。</p>
<h4 style="font-family:'Times New Roman';">关于高级语言的内存管理</h4>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';"><a href="http://www.cnblogs.com/chenleiustc/archive/2011/04/08/2009994.html" target="_blank" data_ue_src="http://www.cnblogs.com/chenleiustc/archive/2011/04/08/2009994.html">这里</a>有一篇关于内存管理的很好的说明了哪些数据是存储在什么区的。学习过汇编语言的我们，很容易就想起来我们的程序包括一些段：数据段，代码段，堆栈段。那么在高级语言中，这些数据又是怎样存储的呢？如下：</p>
<blockquote style="background-color:#ccff99;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;font-family:'Times New Roman';"><p style="margin-top:0px;margin-bottom:0px;">栈stack：&nbsp;存放局部变量，栈表示的是一种后进先出，表达了我程序调用的顺序，故而栈里面存放的是我们的函数中的局部变量，包括变量，指针，参数等等。栈内数据是共享的，回收工作是由内存管理来做的。</p>
<p style="margin-top:0px;margin-bottom:0px;"></p>
<p style="margin-top:0px;margin-bottom:0px;">堆heap：&nbsp;说白了就是程序申请的内存区，这里一块，那里一块，堆是受到保护的，不能互相访问。而回收的时候，我们要收回指向他们的指针，然后GC（gabage&nbsp;collection）来处理。一般malloc，或者是new的对象都是存储在堆里面的。</p>
<p style="margin-top:0px;margin-bottom:0px;"></p>
<p style="margin-top:0px;margin-bottom:0px;">（全局）静态区：&nbsp;全局区和静态区是是在一起的。包括全局变量global修饰的变量，static修饰的变量。有的时候，尽管没有static修饰，也算是静态区的。例如&nbsp;char&nbsp;*p&nbsp;=&nbsp;"hello";&nbsp;&nbsp;字符串"hello"就属于静态区的，因为没有专门为它分配空间，若是char&nbsp;c_arr[]&nbsp;=&nbsp;"hello";&nbsp;则有为字符串分配内存，故而是在栈区。</p>
<p style="margin-top:0px;margin-bottom:0px;"></p>
<p style="margin-top:0px;margin-bottom:0px;">文字常量区：常量字符串就是放在这里的。例如cout&lt;&lt;&nbsp;"hello&nbsp;world"&lt;&lt;endl;&nbsp;那么字符串hello&nbsp;world就存放在常量区。</p>
<p style="margin-top:0px;margin-bottom:0px;"></p>
<p style="margin-top:0px;margin-bottom:0px;">程序代码区：存放程序的二进制代码。</p>
</blockquote>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">深刻理解程序和数据的存储，会更加明白如何编写节省资源和高效的程序，特别是分析由于存储问题带来的性能瓶颈问题，这在web和服务器编程上都很重要。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';"></p>
<h4 style="font-family:'Times New Roman';">关于C语言的sizeof</h4>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">我做了以下实验，对指针进行了sizeof关键字操作，以及指针的加法操作。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';"></p>
<table border="0" cellpadding="0" cellspacing="0" class=" noBorderTable ke-zeroborder" style="clear:both;margin-bottom:10px;word-break:break-all;color:#000000;font-family:'Times New Roman';font-size:15px;line-height:19.5px;"><tbody><tr><td class="gutter" style="border:1px dashed #dddddd !important;"><div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
</td>
<td class="code" style="border:1px dashed #dddddd !important;"><div class="container"><div class="line number1 index0 alt2"><code class="cpp comments">//&nbsp;关于数组的sizeof运算</code></div>
<div class="line number2 index1 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code>&nbsp;<code class="cpp plain">a[100]={0,1};</code></div>
<div class="line number3 index2 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"%d\n"</code><code class="cpp plain">,</code><code class="cpp keyword bold">sizeof</code><code class="cpp plain">(a));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//&nbsp;打印的是数组的很多信息，</code></div>
<div class="line number4 index3 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"%d\n"</code><code class="cpp plain">,</code><code class="cpp keyword bold">sizeof</code><code class="cpp plain">(a[100]));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//</code></div>
<div class="line number5 index4 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"%d\n"</code><code class="cpp plain">,</code><code class="cpp keyword bold">sizeof</code><code class="cpp plain">(&amp;a));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//&nbsp;是a的地址</code></div>
<div class="line number6 index5 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"%d\n"</code><code class="cpp plain">,</code><code class="cpp keyword bold">sizeof</code><code class="cpp plain">(&amp;a[0]));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//&nbsp;</code></div>
<div class="line number7 index6 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">fun(a);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//&nbsp;作为参数传递的数组，其实是个指针</code></div>
</div>
</td>
</tr>
</tbody>
</table>
<span style="font-family:'Times New Roman';">fun的定义如下：</span><p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';"></p>
<div id="highlighter_826335" class="syntaxhighlighter cpp" highlighter="brush:cpp;toolbar:false;" style="font-family:'Times New Roman';"><table border="0" cellpadding="0" cellspacing="0" class=" noBorderTable ke-zeroborder" style="clear:both;margin-bottom:10px;word-break:break-all;"><tbody><tr><td class="gutter" style="border:1px dashed #dddddd !important;"><div class="line number1 index0 alt2" style="height:20px;">1</div>
<div class="line number2 index1 alt1" style="height:20px;">2</div>
<div class="line number3 index2 alt2" style="height:20px;">3</div>
<div class="line number4 index3 alt1" style="height:20px;">4</div>
</td>
<td class="code" style="border:1px dashed #dddddd !important;"><div class="container"><div class="line number1 index0 alt2" style="height:20px;"><code class="cpp keyword bold">void</code>&nbsp;<code class="cpp plain">fun(</code><code class="cpp color1 bold">int</code>&nbsp;<code class="cpp plain">b[100])</code></div>
<div class="line number2 index1 alt1" style="height:20px;"><code class="cpp plain">{</code></div>
<div class="line number3 index2 alt2" style="height:20px;"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"%d\n"</code><code class="cpp plain">,</code><code class="cpp keyword bold">sizeof</code><code class="cpp plain">(b));</code></div>
<div class="line number4 index3 alt1" style="height:20px;"><code class="cpp plain">}</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">我得到的结果是：</p>
<div id="highlighter_228111" class="syntaxhighlighter cpp" highlighter="brush:cpp;toolbar:false;" style="font-family:'Times New Roman';"><table border="0" cellpadding="0" cellspacing="0" class=" noBorderTable ke-zeroborder" style="clear:both;margin-bottom:10px;word-break:break-all;"><tbody><tr><td class="gutter" style="border:1px dashed #dddddd !important;"><div class="line number1 index0 alt2" style="height:20px;">1</div>
<div class="line number2 index1 alt1" style="height:20px;">2</div>
<div class="line number3 index2 alt2" style="height:20px;">3</div>
<div class="line number4 index3 alt1" style="height:20px;">4</div>
<div class="line number5 index4 alt2" style="height:20px;">5</div>
<div class="line number6 index5 alt1" style="height:20px;">6</div>
</td>
<td class="code" style="border:1px dashed #dddddd !important;"><div class="container"><div class="line number1 index0 alt2" style="height:20px;"><code class="cpp comments">//&nbsp;得到的结果是</code></div>
<div class="line number2 index1 alt1" style="height:20px;"><code class="cpp comments">//&nbsp;400 &nbsp;</code></div>
<div class="line number3 index2 alt2" style="height:20px;"><code class="cpp comments">//&nbsp;4</code></div>
<div class="line number4 index3 alt1" style="height:20px;"><code class="cpp comments">//&nbsp;4</code></div>
<div class="line number5 index4 alt2" style="height:20px;"><code class="cpp comments">//&nbsp;4</code></div>
<div class="line number6 index5 alt1" style="height:20px;"><code class="cpp comments">//&nbsp;4</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">要是想在子函数中得到数组的大小，那么使用下面的fun:</p>
<div id="highlighter_670844" class="syntaxhighlighter cpp" highlighter="brush:cpp;toolbar:false;" style="font-family:'Times New Roman';"><table border="0" cellpadding="0" cellspacing="0" class=" noBorderTable ke-zeroborder" style="clear:both;margin-bottom:10px;word-break:break-all;"><tbody><tr><td class="gutter" style="border:1px dashed #dddddd !important;"><div class="line number1 index0 alt2" style="height:20px;">1</div>
<div class="line number2 index1 alt1" style="height:20px;">2</div>
<div class="line number3 index2 alt2" style="height:20px;">3</div>
<div class="line number4 index3 alt1" style="height:20px;">4</div>
</td>
<td class="code" style="border:1px dashed #dddddd !important;"><div class="container"><div class="line number1 index0 alt2" style="height:20px;"><code class="cpp keyword bold">void</code>&nbsp;<code class="cpp plain">fun(</code><code class="cpp color1 bold">int</code>&nbsp;<code class="cpp plain">(*a)[100])</code></div>
<div class="line number2 index1 alt1" style="height:20px;"><code class="cpp plain">{</code></div>
<div class="line number3 index2 alt2" style="height:20px;"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"%d\n"</code><code class="cpp plain">,</code><code class="cpp keyword bold">sizeof</code><code class="cpp plain">(*a));</code></div>
<div class="line number4 index3 alt1" style="height:20px;"><code class="cpp plain">}</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">调用的时候是</p>
<div id="highlighter_36073" class="syntaxhighlighter cpp" highlighter="brush:cpp;toolbar:false;" style="font-family:'Times New Roman';"><table border="0" cellpadding="0" cellspacing="0" class=" noBorderTable ke-zeroborder" style="clear:both;margin-bottom:10px;word-break:break-all;"><tbody><tr><td class="gutter" style="border:1px dashed #dddddd !important;"><div class="line number1 index0 alt2" style="height:20px;">1</div>
</td>
<td class="code" style="border:1px dashed #dddddd !important;"><div class="container"><p style="margin-top:0px;margin-bottom:0px;"><code class="cpp plain">fun(&amp;a);</code></p>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">故而能够得到预期的400。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';"></p>
<h4 style="font-family:'Times New Roman';">关于数据类型的溢出和转换</h4>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">各种数据类型的转换，某些情况下系统是能够自动类型转换的，如赋值，表达式，循环条件判断中。遵循的是从低精度变到高精度的原则。而从高精度强制转换到低精度，则需要损失一部分的数据，所以应该斟酌为之，特别是不确定转换结果的情况下。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">只要弄明白了数据类型在计算机里面怎么存储，就能够明白什么样的转换是行的，什么样的转换是不行的。整形数据在内存中，存储的都是补码。对于负数，补码是反码+1，而对正数补码就是本身的码。例如char类型的（默认是unsigned）可以表示[0,255]&nbsp;,如果是signed，那么就可以表示[-128,127],也就是说分了一半去表示负数。int同理，一般的程序中，不会有太多的类型转换，因为这潜在着不安全因素，例如if里面的表达式就是一个很好的例子。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">对于bool型的，假如有个checked表示某个步骤是否通过检查，&nbsp;用if(checked)。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">对于int型，直接if(&nbsp;0&nbsp;==&nbsp;num)&nbsp;比较</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">对于浮点型，用&nbsp;if&nbsp;(&nbsp;0-EP&lt;num&nbsp;&amp;&amp;&nbsp;num&nbsp;&gt;&nbsp;0+EP)&nbsp;来确定是否和0相等</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">所以，我们要用同样类型的去比较，C中可以while(a),&nbsp;a是一个int型，Java就比较严格，不允许将int转换为bool类型做判断。</p>
<h4 style="font-family:'Times New Roman';">关于运算符的优先级<br>
</h4>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">这个就要参考程序语言的手册了，我们自己写程序的时候，最保险的就是给各种表达式都加上括号，以避免意外的求值出现。同级的按结合顺序来判断。例如+，-，*，/&nbsp;,&nbsp;%是左结合；而对于！，=这样的，就属于右结合。有什么规律可循呢？所有的优先级中，只有三个优先级是从右至左结合的，它们是单目运算符、条件运算符、赋值运算符。其它的都是从左至右结合。当然，运算符是有级别的，级别高的先执行。具体请参考<a href="http://baike.baidu.com/view/1516130.htm" target="_blank" data_ue_src="http://baike.baidu.com/view/1516130.htm">百度百科C运算符</a>。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';"></p>
<h4 style="font-family:'Times New Roman';">关于C语言的特别运算符号</h4>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">自增++等，++的位置很重要，i++,表示用完i再自增1；而++i表示先做自增，然后再使用新的i值。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">自减--，同理。这两个很有技巧的运算符使用时要特别小心。有时候让i用完，自增1很有用，例如最寻常的for循环，以及排序里面，上次做一道题目，是插入排序，其中我就搞岔了++i和i++。看来还需要好好修炼哪~</p>
<h3 style="background-color:#000000;color:#ffffff;padding:10px;font-family:'Times New Roman';">END</h3>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';">by&nbsp;bibodeng&nbsp;2013-04-16&nbsp;21:45:44&nbsp;​</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';"></p>
</div>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/15/知交/" itemprop="url">
                  知交
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-15T19:21:16+08:00" content="2013-04-15">
              2013-04-15
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/04/15/知交/" class="leancloud_visitors" data-flag-title="知交">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<link rel="style" href="/content/plugins/bibo_mark/article_bibo.css"> <div class="art_content">
<h3 style="font-family:'Times New Roman';line-height:normal;"></h3>
<h3 style="background-color:#000000;color:#ffffff;padding:10px;letter-spacing:1px;line-height:19.5px;">﻿谈友情</h3>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<span style="font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;昨天晚上忽然收到伟权来的电话，他特地来问问我最近过得怎么样，我说，还不错！其实每天能看看书，编程序，做运动，这日子真的是挺惬意的，前段时间失眠频繁，为学习和其它事情烦扰，最要命的是我一躺下，精神就集中在身体的某一处，然后不能安顿思想。不过，随着学习变得更有目的性，心态变得淡定，我也慢慢能够睡好了。</span><br style="font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">
<br style="font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">
<span style="font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;记得五月天那首歌里面有一句“最怕空气忽然安静，最怕朋友突然的关心”，因为孤独惯了，能交流的仅仅自己而已，最多写成博文，付之一笑。很多表达无力，很多情感压抑，所以就久住在这围城里。胸中高山深谷，波澜壮阔，也绝对不会泛一点在表情里。@帷幕&nbsp;说我是第五型人，追求智慧，性格内向，偶尔开放。自认为是挺贴切的，而我的人生偶像，“大梦谁先觉，平生我自知”的作者——诸葛亮正是这种人。</span><br style="font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<h3 style="background-color:#000000;color:#ffffff;padding:10px;letter-spacing:1px;line-height:19.5px;">知遇之友</h3>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;当年高考结束，我对语文老师说，愿学欧阳公，范文正公，出于贫困而秉聪慧，以勤奋而为有用之材。老师予以了鼓励，后来屡次见面，也颇觉得这是忘年之交。目前为止，我有多位知遇之友，他们懂得我的才能，鼓励我克服困难与自身缺陷，很大程度帮助我成为一个更好的人。</p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">“国栋者，国之大材者也”，是高中同桌小麦送给我的座右铭。大概是古文传记读多了，突然他蹦出一句这个传记格式来，这种评价估计只有在追悼会才能出现，作为座右铭，还是可以的。这个世界，比我们厉害的还有很多人，而要成为大材需要比绝大多数人要努力付出。而成为一个废柴挺容易，什么也不用做，就可以做到。</p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;“你跟我很像，大概我们的目的地是很靠近”，是规好师兄的勉励，记得大一的时候就开始看《我是一只IT小小鸟》，在CSDN和51CTO写博客，大三买了kindle，很多都是受到师兄的引导。而且师兄总是很nice地推荐一些书给我，很多都是非常有用的，让我觉得受益匪浅。和自己年长的人交流，就是有很多好处，让自己能见贤思齐。除了精神上的帮助，师兄也曾经给我以物质的鼓励，借新买的书我看，或者送书我。而我回家有年货的时候，也会惦记着师兄一份。当然，从师兄身上受的教益绝对不止一点点，例如师兄吃饭的时候，都是帮同伴拿好餐具，吃完了大家还分类回收，有一种助人为乐的心态。图书馆一些计算机专业的好书，都是师兄荐购的，后来我们校区不买书了，就越来越少荐购了。</p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;“果冻是那种personality，充满人格魅力的”，这是江老师对我的映像，而卫生老师也是屡次对我青眼有加，实在是感佩不已。陈卫生老师是典型的严师，考试的时候很严格，所以大多数人都得了70多分，很少有80多的，我觉得以我们的努力，获得70分左右才是正常的，而那些期末让我们个个高分通过的老师，不是我觉得靠谱的。我想很多时候，我们是从别人的眼中看自己，别人评价我们这样时，我们很可能还不够好，而别人的鼓励和引导，很可能让你更加努力成为一个personality的人。</p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;而杨教官，军训期间的十多天，我们也成了精神知交。印象很深刻的，他说了一句“古之成大事者，或无超拔之才，亦必有超拔之志”，令我引以为知己。之后很少联系，他对我说过一句“你小子很有前途”，哈哈，真的很开心听到教官这样说，来到大学里的都是前途无量的，而这其中4年后高下，必定在于其志之是否超拔也。</p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<h3 style="background-color:#000000;color:#ffffff;padding:10px;letter-spacing:1px;line-height:19.5px;">亲密朋友</h3>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;当然，最懂得你的行为性情的，是那些和你朝夕相处的，志同道合的朋友，他们陪伴身旁，帮你打饭防水，签到掩护。当然，有时候你会觉得宿舍里乱糟糟的，扰乱了思维的磁场，那么大可以去图书馆。但是宿舍里，大家一团和气才是最重要的。很幸运，三年多来我们宿舍，各位还是很和谐的，大概都是性格好的人。偶尔有小争吵，也是正常的。和志远搞怪，和桌升哥嬉笑，和广欣道长玩捡金子，和文杰求教问题，和伟昌两个打dota。这点点滴滴都是美好回忆，等到我们都毕业了，一定一定要记录下我们的伟大友谊（请不要误解为是《黄金时代》里的“伟大友谊”）。另外，思愿，大明，浩明，宝良都是相当好的球友，人品球技俱佳。人生知己两三，朋友若干，足以慰我平生了。</p>
<h3 style="background-color:#000000;color:#ffffff;padding:10px;letter-spacing:1px;line-height:19.5px;">发小玩伴</h3>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;小时候的发小，还有初中的玩伴，曾经一起疯狂，一起努力，当然是不能忘记的，老表，岚清，彬彬，召华，钟平，德康，甚至是红颜知己所比不了的（参看后面红颜知己）。然而，久违了，必定会有一定的神秘感，慢慢的生活上疏离了，但是相见总是很亲切。因为过去的我们，相当有默契，形影不离。曾几何时，一起在校园里畅谈，谈我们的男女感情，谈我们的理想抱负。在湖边坐下，看夕阳余辉，或者吹着凉风，漫步球场。现在每个人都有自己的生活，有自己的新朋友，但是，不知觉收到朋友的明信片，总会有那么一股暖意涌上心头，喜上眉头。哪怕卡片里面的只是只言片语，我都珍而藏之，留而念之。朋友之交，不在于物质多少赠与，而在于情意多少关怀。</p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<h3 style="background-color:#000000;color:#ffffff;padding:10px;letter-spacing:1px;line-height:19.5px;">红颜知己<br>
</h3>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;大学里，难免会喜欢一两个女孩，其实没有谈过一场恋爱，是一种遗憾。我所见的师兄中，很多很优秀的，都有女朋友。不记得在哪里看到一句话“男孩长大了，成为男生，脑子里就不仅仅能装下学习，还要能装下女生”，人在某一段时期，会做相应的事情，一是因为心态，而是因为生理。</p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;很不幸的，大学里追过女孩，但是以失败结尾，但是我追过的女生，都成为了红颜知己，彼此有话说，说话也有默契。只是不常联系，联系了也绝对不会去谈什么爱情了，而是当作一个知己来看待。聊聊小说人物，聊聊学习压力，还有那不痛不痒的音乐以及天气。很高兴，能够拥有这样的红颜知己，而我也算是个有情趣的男生吧。虽然不如苏轼般是世间奇男子，但好歹也是通情达理的人。偶尔有产生过尴尬，最终都相逢成一笑，久别成知己。</p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">&nbsp;&nbsp;&nbsp;&nbsp;也许有的是很多过去的回忆，以及好久不见的阔别情怀。就算是经常见面，也变得很淡很淡，因为都不愿意往感情的池子里扔块石头，漾起久叠的涟漪。有时候想起，放不下，那就姑且失眠一个晚上，也无不可。人，就是要真切的活着，很在乎就是很在乎，不必掩饰什么。</p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;">by&nbsp;bibodeng&nbsp;&nbsp;&nbsp;&nbsp;2013-04-15</p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-size:15px;font-weight:normal;letter-spacing:1px;line-height:19.5px;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
</div>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/14/学习SVN/" itemprop="url">
                  学习SVN
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-14T21:09:23+08:00" content="2013-04-14">
              2013-04-14
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/04/14/学习SVN/" class="leancloud_visitors" data-flag-title="学习SVN">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<link type="text/css" rel="stylesheet" href="/content/plugins/bibo_mark/article_bibo.css"> <div class="art_content"><p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">​2013-04-02&nbsp;&nbsp;因为svn出现冲突，不能上传代码，很想砸电脑。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">一个好的工具就像一柄神剑，如果你不会用，往往会伤到自己，现在我想说，SVN就是这样一柄神器。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">长痛不如短痛，所以我打算一次性把SVN给搞懂，要不然就把电脑给砸了，很显然我只有一个选择。秉持着刘未朋的三个问题：&nbsp;本质是什么？有什么原则？有什么方法？&nbsp;（记不得是不是这三个问题了）我试着去克服svn这个困难。记得大二和师兄一起做项目的时候用上了svn，那时候还在windows下，用一个图形界面的svn在提交代码。现在想起来真的很可笑，当时每次我都去checkout，而不是update，而且每次checkout出来的代码，我都单独地放到一个文件夹下面，好好保存，当时我在想，这样就足够安全了。但是，现在我明白了，完全没有这个必要，因为版本库里面已经有每个版本的记录，可以拿到任何一个版本的代码。好吧，废话讲完了，让我们好好学习svn吧！</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<h3>SVN本质是什么？</h3>
<p></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">SVN是一个文件服务器，但是它是一个强大的文件服务器，能够记录所作的更改，使用于代码托管。有了SVN就能很大方便团队开发，各人都可以提交自己的代码。最重要的是，它能够按照修改来维护若干个版本，便于回复和更新。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">在我们的团队里面，就当作一个代码库管理工具来使用，将代码提交上去，但是我碰到的问题是，不会使用svn来维护多个版本，且遇到冲突的时候不知道如何解决。所以svn命令到了一半就运行不下去了，频频报错，搞得头大。半桶水害死人啊！使用的方法不对，所以搞得整天都在做解决冲突的问题，而且这冲突是我一个人制造出来的，那是因为我上传了一个代码包，这个代码包里面包含有大量的临时文件。所以，读《版本控制之道》到“如果你不小心上传了一堆临时文件到版本库中的话，你的项目经理会杀了你~”的时候，我会会心一笑。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">SVN的基本原理</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">SVN就是要求文件同步共享，最新的代码总是可以通过一个命令提交上去，甚至到了做了修改自动提交的。如git，以及ubuntu的软件中心都有着相似性，都是管理着一个库，其命令也具有相似性，如&nbsp;apt-get&nbsp;install&nbsp;xxx，&nbsp;git&nbsp;clone&nbsp;xxx,&nbsp;svn&nbsp;co&nbsp;xxx。但是这简单命令，根本满足不了开发人员的需求。SVN的难点就在于，如果两个client都做了修改，系统将怎样维护一致性。有的系统采用锁来同步，即排斥他人同时操作文件，必须一个个按照顺序来。如果有人做了修改，必须将新文件下载下来，然后处理矛盾，合并后上传到服务器。这样的合作方式，需要人为地处理冲突。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">SVN用户维护的工作拷贝，往往是代码库中的某一个版本，而且是版本库的一个子目录，例如1，2，3这样的目录就是某个版本。svn&nbsp;checkout&nbsp;&nbsp;PATH可以获得一份工作拷贝。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">试验一下：&nbsp;cd&nbsp;/var/www</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">&nbsp;svn&nbsp;checkout&nbsp;<a href="https://svn.sinaapp.com/bibodeng" target="_blank" data_ue_src="https://svn.sinaapp.com/bibodeng">https://svn.sinaapp.com/bibodeng</a></p>
<p style="text-align:center;margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"><img src="http://www.wiz.cn/unzip/3eb90c0e-f584-11e0-a072-00237def97cc/6605ccfa-15cd-928a-0b00-365bdeba972f.5117/index_files/d2c46b4204ca182382637b43d4854edb.png" data_ue_src="http://www.wiz.cn/unzip/3eb90c0e-f584-11e0-a072-00237def97cc/6605ccfa-15cd-928a-0b00-365bdeba972f.5117/index_files/d2c46b4204ca182382637b43d4854edb.png"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">获取了版本1的工作拷贝，在我的/var/www目录下面。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">做了修改之后，则svn&nbsp;commit&nbsp;-m&nbsp;"上传时的日志消息&nbsp;Message"，叫做提交修改。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">每做一次修改，且提交了，就能够看到版本号+1了。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">update会对那些过期的在本地工作拷贝下未修改过的进行更新，但是不会修改我们修改过的文件，这样保证了我们不愿意的修改svn不会自动帮我们做修改。修改过的文件可以commit，但是如果不是最新的，那么不能commit，因为会影响服务器端的修改，故而需要人update然后检查并且解决冲突，才能再次提交。&nbsp;&nbsp;commit只会提交更改过的那部分，而不会自动更新其余部分，所以这是一个混合版本，有些文件是老版本，有些是最新版的。我现在想要学会的就是怎么让我的编程很容易提交，而且很容易撤销，有了冲突的时候，能够及时地处理。到时候，叫SVN往前就往前，回滚就回滚，有种掌控历史的快感。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<h3>SVN原则</h3>
<p></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">好，这里停顿一下，问问SVN有什么原则。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">我现在体会到了SVN的原则就是KISS，懂得合作的原理，然后小心的更新提交。在做一件事情之前，考虑一下自己的目标，这样做的后果。比如我修改了一个文件Number.txt，假如要提交。那么我们最好先知道别人对网络版本库中的该文件做了什么，然后我们再看我们做的修改能否合并进去。所以就要先update，解决若干冲突，再commit。这样才能保证版本库的纯正。当然，在提交的时候，要尽可能逻辑整体的，而且频繁的更新。比如我在某个文件下面添加了一个函数，有那么十几行，在本地测试过了，可以很好运行，ok，提交，而且svn&nbsp;ci&nbsp;-m&nbsp;"添加了xx函数"&nbsp;记下几笔日记。这个频率大概是1小时1次，将来在小组里搞开发，可能大家都很高效，那么频繁提交可以让你的修改更早让人家看到，可以查出错误或者使用你的成果，有很大的好处。原则就是&nbsp;合作，保持整体简洁。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">next&nbsp;what？真正开始用SVN</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">老实说我之前还不会import命令，但是现在我知道了用它来导入一个本地文件作为版本库的一部分，这有点像git的init。然后会初始化checkout一次，然后做修改，提交。而且最好主干版本放在trunk下面，然后branches放分支，好吧，我承认自己不懂，继续看书。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">svn里面的几个命令是基础的，最常用的。例如status,&nbsp;update,commit,checkout,revert,resolved,log,diff等等。这里的命令一概不解释，网络上有很好的文档和教程，真正坐住板凳来看，绝对是可以学的很扎实的。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">我发现svn甚至可以用diff来做一个补丁，也就是一个标示不同版本之间的不同之处的文件。而这个补丁，可以用patch命令来打补丁，全自动，比洗衣机还方便。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">还有一个意外就是，我居然可以追究到哪行代码是谁写的，使用svn&nbsp;blame&nbsp;可以看到文件中每一行的作者。这样统计谁写了多少代码，谁编写了错误的程序，谁要对代码负责&nbsp;追究起来就轻而易举了。当然我们使用这个不仅仅是为了追究责任，而是为了更好的“合作"。当我们知道这是谁写的代码时，结合svn&nbsp;log我们就可以追踪错误所在，从而更快地排除错误，获得正确的版本。我相信，这在web开发中是相当有用的。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">我犯过一个错误，那就是用操作系统的命令修改了svn工作目录下的文件和目录，例如用rm，mv&nbsp;一通瞎搞，然后搞得整个版本库乱七八糟，无法使用。看了文档才发现，原来要让svn管理一切，必须要让它知道我所做的所有动作。故而命令前面要加一个svn，变成这样：&nbsp;svn&nbsp;rm&nbsp;xxx。或者做了修改，让svn知道一下，例如拷贝了，要用svn&nbsp;add进到版本库中来。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">一切为了合作，一切为了共享，一切为了更加简单。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<h3>SVN方法</h3>
<p></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">此处，沉默是金~</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">基本命令参考<a href="http://www.subversion.org.cn/tsvndoc/" data_ue_src="http://www.subversion.org.cn/tsvndoc/" target="_blank" rel="noopener">这个教程</a>。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">update,&nbsp;checkout,&nbsp;commit,&nbsp;add,&nbsp;remove,&nbsp;move,&nbsp;copy,&nbsp;status,&nbsp;diff&nbsp;,&nbsp;revert,&nbsp;update,&nbsp;resolved.</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">by bibodeng &nbsp; 2013-04-14</p>
<div><br>
</div>
</div>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/14/微信公众帐号验证/" itemprop="url">
                  微信公众帐号验证
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-14T10:14:24+08:00" content="2013-04-14">
              2013-04-14
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/04/14/微信公众帐号验证/" class="leancloud_visitors" data-flag-title="微信公众帐号验证">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<link type="text/css" rel="stylesheet" href="/content/plugins/bibo_mark/article_bibo.css"> <div class="art_content"><span style="font-family:'Times New Roman';font-size:medium;line-height:normal;">﻿</span><span style="font-family:'Times New Roman';font-size:medium;line-height:normal;">前段时间申请了一个微信公共帐号，想要在服务器端编程实现自动回复，同时也接触一下关于django编程，以继续发扬我在python的web道路。终于到现在，我才有时间​将这个过程记录下来，具体如下：</span><p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">首先明确目标——成为微信公众号第三方开发者，通过消息API认证。</p>
<blockquote>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">使用的语言和框架&nbsp;：python的django</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">主机的平台：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sae云平台</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">微信平台：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;微信公众帐号</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
</blockquote>
<h3>具体过程</h3>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">当然，先要阅读微信的消息接口，其是通过微信服务器获取用户的回复，用get请求发送到我的服务器，然后我给予回应。所以只需要简单的编程就可以完成验证了。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">步骤1：申请微信公众帐号，需要填写若干资料，传送门<a href="http://mp.weixin.qq.com/" target="_blank" data_ue_src="http://mp.weixin.qq.com/"></a><a href="http://mp.weixin.qq.com" target="_blank" data_ue_src="http://mp.weixin.qq.com">http://mp.weixin.qq.com</a>&nbsp;，填写好后，则可以阅读其开放API文档，里面有提到如何验证：&nbsp;发送一个echochar,&nbsp;原样返回就可以了。但是其中要验证该get请求是否来自微信服务器，则需要详细核对生成的hash值。文档里面有范例php文件，可以直接下载研读。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">步骤2：在sae上搭建应用，先有帐号，然后新建一个app，选择python或者php，如果选择了php可以使用微信提供的代码，google一下也会有很详细的教程。如果选用python，也可以参考本文或者文章后面的链接。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">在sae上搭建应用，需要在本地新建一个版本库，所以要在sae管理平台上先初始化第一个版本，这个版本什么代码都没有，只有两个配置文件config.yaml,index.wsgi，用svn&nbsp;check&nbsp;out到本地的工作目录。就可以看到有一个名为"1"的文件夹，也就是第一个版本。然后我们可以在该文件夹内构建django应用了，如果你安装好了django，那么可以到目录"1"下，然后在命令行运行&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<table border="0" cellpadding="0" cellspacing="0" class=" noBorderTable ke-zeroborder" style="clear:both;margin-bottom:10px;word-break:break-all;color:#000000;font-family:'Times New Roman';"><tbody><tr><td class="gutter" style="border:1px dashed #dddddd !important;"><div class="line number1 index0 alt2" style="height:20px;">1</div>
</td>
<td class="code" style="border:1px dashed #dddddd !important;"><div class="container"><div class="line number1 index0 alt2" style="height:20px;"><code class="as3 plain">django-admin.py&nbsp;startproject&nbsp;mysite</code></div>
</div>
</td>
</tr>
</tbody>
</table>
<span style="font-family:'Times New Roman';font-size:medium;line-height:normal;">mysite是你的应用的名字，运行命令时要予以更换。</span><p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">然后就创建了本地工作目录，可是这个适合创建的目录处于1下面，我们最终要达到下面这个样子：tree命令察看目录树</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;text-align:center;"><img src="http://www.wiz.cn/unzip/3eb90c0e-f584-11e0-a072-00237def97cc/b43de5cb-89ce-d7ec-7550-feeab9ae522b.5202/index_files/7c8bcebe8e6b2dd52d59a322f4647c02.png" data_ue_src="http://www.wiz.cn/unzip/3eb90c0e-f584-11e0-a072-00237def97cc/b43de5cb-89ce-d7ec-7550-feeab9ae522b.5202/index_files/7c8bcebe8e6b2dd52d59a322f4647c02.png"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">所以要将mysite下的文件或目录全部移动到1之下，因为mysite/暂时未纳入版本控制，所以可以手动拷贝后用svn将文件或目录纳入svn目录。故而形成manage.py在1之下，其他django文件在mysite（这里是scnuwriter）之下。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">&nbsp;&nbsp;&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">&nbsp;&nbsp;步骤3：&nbsp;在本地架设好django应用，然后用svn&nbsp;commit&nbsp;命令上传到sae服务器。这里需要参考sae的文档，关于搭建python开发环境的操作。有疑问的可以察看<a href="http://sae.sina.com.cn/?m=devcenter&amp;catId=289" data_ue_src="http://sae.sina.com.cn/?m=devcenter&amp;catId=289" target="_blank" rel="noopener">这里</a>。总之就是要配置好各种文件，上传代码就行了。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">步骤4：&nbsp;编写好微信验证的代码，代码如下&nbsp;view.py&nbsp;文件：</p>
<div id="highlighter_380844" class="syntaxhighlighter python" highlighter="brush:python;toolbar:false;" style="font-family:'Times New Roman';font-size:medium;line-height:normal;"><table border="0" cellpadding="0" cellspacing="0" class=" noBorderTable ke-zeroborder" style="clear:both;margin-bottom:10px;word-break:break-all;"><tbody><tr><td class="gutter" style="border:1px dashed #dddddd !important;"><div class="line number1 index0 alt2" style="height:20px;">1</div>
<div class="line number2 index1 alt1" style="height:20px;">2</div>
<div class="line number3 index2 alt2" style="height:20px;">3</div>
<div class="line number4 index3 alt1" style="height:20px;">4</div>
<div class="line number5 index4 alt2" style="height:20px;">5</div>
<div class="line number6 index5 alt1" style="height:20px;">6</div>
<div class="line number7 index6 alt2" style="height:20px;">7</div>
<div class="line number8 index7 alt1" style="height:20px;">8</div>
<div class="line number9 index8 alt2" style="height:20px;">9</div>
<div class="line number10 index9 alt1" style="height:20px;">10</div>
<div class="line number11 index10 alt2" style="height:20px;">11</div>
<div class="line number12 index11 alt1" style="height:20px;">12</div>
<div class="line number13 index12 alt2" style="height:20px;">13</div>
<div class="line number14 index13 alt1" style="height:20px;">14</div>
<div class="line number15 index14 alt2" style="height:20px;">15</div>
<div class="line number16 index15 alt1" style="height:20px;">16</div>
<div class="line number17 index16 alt2" style="height:20px;">17</div>
<div class="line number18 index17 alt1" style="height:20px;">18</div>
<div class="line number19 index18 alt2" style="height:20px;">19</div>
<div class="line number20 index19 alt1" style="height:20px;">20</div>
<div class="line number21 index20 alt2" style="height:20px;">21</div>
<div class="line number22 index21 alt1" style="height:20px;">22</div>
<div class="line number23 index22 alt2" style="height:20px;">23</div>
<div class="line number24 index23 alt1" style="height:20px;">24</div>
<div class="line number25 index24 alt2" style="height:20px;">25</div>
<div class="line number26 index25 alt1" style="height:20px;">26</div>
</td>
<td class="code" style="border:1px dashed #dddddd !important;"><div class="container"><div class="line number1 index0 alt2" style="height:20px;"><code class="python comments">#&nbsp;-*-&nbsp;coding:&nbsp;utf-8&nbsp;-*-&nbsp;&nbsp;</code></div>
<div class="line number2 index1 alt1" style="height:20px;"><code class="python keyword">from</code>&nbsp;<code class="python plain">django.http&nbsp;</code><code class="python keyword">import</code>&nbsp;<code class="python plain">HttpResponse&nbsp;&nbsp;</code></div>
<div class="line number3 index2 alt2" style="height:20px;"><code class="python keyword">from</code>&nbsp;<code class="python plain">django.template&nbsp;</code><code class="python keyword">import</code>&nbsp;<code class="python plain">RequestContext,&nbsp;Template&nbsp;&nbsp;</code></div>
<div class="line number4 index3 alt1" style="height:20px;"><code class="python keyword">from</code>&nbsp;<code class="python plain">django.views.decorators.csrf&nbsp;</code><code class="python keyword">import</code>&nbsp;<code class="python plain">csrf_exempt&nbsp;&nbsp;</code></div>
<div class="line number5 index4 alt2" style="height:20px;"><code class="python keyword">from</code>&nbsp;<code class="python plain">django.utils.encoding&nbsp;</code><code class="python keyword">import</code>&nbsp;<code class="python plain">smart_str,&nbsp;smart_unicode&nbsp;</code></div>
<div class="line number6 index5 alt1" style="height:20px;"><code class="python keyword">import</code>&nbsp;<code class="python plain">hashlib</code></div>
<div class="line number7 index6 alt2" style="height:20px;"></div>
<div class="line number8 index7 alt1" style="height:20px;"></div>
<div class="line number9 index8 alt2" style="height:20px;"><code class="python plain">TOKEN&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python string">"mytoken"</code></div>
<div class="line number10 index9 alt1" style="height:20px;"></div>
<div class="line number11 index10 alt2" style="height:20px;"><code class="python comments">#&nbsp;to&nbsp;verify&nbsp;the&nbsp;API&nbsp;server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></div>
<div class="line number12 index11 alt1" style="height:20px;"><code class="python keyword">def</code>&nbsp;<code class="python plain">checkSignature(request):&nbsp;&nbsp;</code></div>
<div class="line number13 index12 alt2" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">global</code>&nbsp;<code class="python plain">TOKEN&nbsp;&nbsp;</code></div>
<div class="line number14 index13 alt1" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">signature&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">request.GET.get(</code><code class="python string">"signature"</code><code class="python plain">,&nbsp;</code><code class="python color1">None</code><code class="python plain">)</code></div>
<div class="line number15 index14 alt2" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">timestamp&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">request.GET.get(</code><code class="python string">"timestamp"</code><code class="python plain">,&nbsp;</code><code class="python color1">None</code><code class="python plain">)</code></div>
<div class="line number16 index15 alt1" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nonce&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">request.GET.get(</code><code class="python string">"nonce"</code><code class="python plain">,&nbsp;</code><code class="python color1">None</code><code class="python plain">)</code></div>
<div class="line number17 index16 alt2" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">echoStr&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">request.GET.get(</code><code class="python string">"echostr"</code><code class="python plain">,</code><code class="python color1">None</code><code class="python plain">)</code></div>
<div class="line number18 index17 alt1" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">token&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">TOKEN&nbsp;&nbsp;</code></div>
<div class="line number19 index18 alt2" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tmpList&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">[token,timestamp,nonce]&nbsp;&nbsp;</code></div>
<div class="line number20 index19 alt1" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tmpList.sort()&nbsp;&nbsp;</code></div>
<div class="line number21 index20 alt2" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tmpstr&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python string">"%s%s%s"</code>&nbsp;<code class="python keyword">%</code>&nbsp;<code class="python functions">tuple</code><code class="python plain">(tmpList)&nbsp;&nbsp;</code></div>
<div class="line number22 index21 alt1" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tmpstr&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">hashlib.sha1(tmpstr).hexdigest()</code></div>
<div class="line number23 index22 alt2" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code>&nbsp;<code class="python plain">tmpstr&nbsp;</code><code class="python keyword">=</code><code class="python keyword">=</code>&nbsp;<code class="python plain">signature:&nbsp;</code></div>
<div class="line number24 index23 alt1" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code>&nbsp;<code class="python plain">HttpResponse(echoStr)</code></div>
<div class="line number25 index24 alt2" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:&nbsp;&nbsp;</code></div>
<div class="line number26 index25 alt1" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code>&nbsp;<code class="python color1">None</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">当然如果不怕安全性的损失，可以不验证这是微信服务器发来的get请求，而直接在第17行后面return&nbsp;HttpResponse(echoStr)&nbsp;就可以了。从微信的示例php文件中可以看出来，它将验证封装在一个专门的函数中供调用。但其实验证的内容与返回的东西无关。很多教程里面写的是return&nbsp;echoStr，我搞了半天才发现不行，返回的不是一个http响应，故而需要对echoStr做一个HttpResponse的包装。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">另外需要在url设置里面进行设置，然后在微信发送验证时填写url的时候填写对应的url。例如，在django工作目录下面修改url.py如下：</p>
<div id="highlighter_298508" class="syntaxhighlighter python" highlighter="brush:python;toolbar:false;" style="font-family:'Times New Roman';font-size:medium;line-height:normal;"><table border="0" cellpadding="0" cellspacing="0" class=" noBorderTable ke-zeroborder" style="clear:both;margin-bottom:10px;word-break:break-all;"><tbody><tr><td class="gutter" style="border:1px dashed #dddddd !important;"><div class="line number1 index0 alt2" style="height:20px;">1</div>
<div class="line number2 index1 alt1" style="height:20px;">2</div>
<div class="line number3 index2 alt2" style="height:20px;">3</div>
<div class="line number4 index3 alt1" style="height:20px;">4</div>
<div class="line number5 index4 alt2" style="height:20px;">5</div>
<div class="line number6 index5 alt1" style="height:20px;">6</div>
<div class="line number7 index6 alt2" style="height:20px;">7</div>
<div class="line number8 index7 alt1" style="height:20px;">8</div>
<div class="line number9 index8 alt2" style="height:20px;">9</div>
<div class="line number10 index9 alt1" style="height:20px;">10</div>
<div class="line number11 index10 alt2" style="height:20px;">11</div>
<div class="line number12 index11 alt1" style="height:20px;">12</div>
<div class="line number13 index12 alt2" style="height:20px;">13</div>
</td>
<td class="code" style="border:1px dashed #dddddd !important;"><div class="container"><div class="line number1 index0 alt2" style="height:20px;"><code class="python keyword">from</code>&nbsp;<code class="python plain">django.conf.urls&nbsp;</code><code class="python keyword">import</code>&nbsp;<code class="python plain">patterns,&nbsp;include,&nbsp;url</code></div>
<div class="line number2 index1 alt1" style="height:20px;"></div>
<div class="line number3 index2 alt2" style="height:20px;"><code class="python comments">#&nbsp;Uncomment&nbsp;the&nbsp;next&nbsp;two&nbsp;lines&nbsp;to&nbsp;enable&nbsp;the&nbsp;admin:</code></div>
<div class="line number4 index3 alt1" style="height:20px;"><code class="python comments">#&nbsp;from&nbsp;django.contrib&nbsp;import&nbsp;admin</code></div>
<div class="line number5 index4 alt2" style="height:20px;"><code class="python comments">#&nbsp;admin.autodiscover()</code></div>
<div class="line number6 index5 alt1" style="height:20px;"><code class="python keyword">from</code>&nbsp;<code class="python plain">scnuwriter.views&nbsp;</code><code class="python keyword">import</code>&nbsp;<code class="python keyword">*</code></div>
<div class="line number7 index6 alt2" style="height:20px;"></div>
<div class="line number8 index7 alt1" style="height:20px;"><code class="python plain">urlpatterns&nbsp;</code><code class="python keyword">=</code>&nbsp;<code class="python plain">patterns('',</code></div>
<div class="line number9 index8 alt2" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">#&nbsp;Examples:</code></div>
<div class="line number10 index9 alt1" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">#&nbsp;url(r'^$',&nbsp;'scnuwriter.views.home',&nbsp;name='home'),</code></div>
<div class="line number11 index10 alt2" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">#&nbsp;url(r'^scnuwriter/',&nbsp;include('scnuwriter.foo.urls')),</code></div>
<div class="line number12 index11 alt1" style="height:20px;"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">url(r</code><code class="python string">'^$'</code><code class="python plain">,&nbsp;checkSignature),</code></div>
<div class="line number13 index12 alt2" style="height:20px;"><code class="python plain">)</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">第12行表示，在url中什么也不加，如<a href="http://scnuwriter.sinaapp.com" data_ue_src="http://scnuwriter.sinaapp.com" target="_blank" rel="noopener">http://scnuwriter.sinaapp.com</a>&nbsp;这样就可以访问checkSignature了。每次在本地目录做了更改，都需要在终端中用svn命令commit一下，这个就不用多说了。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">步骤4：验证</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">验证的原理很简单，就是确认这个东西是微信服务器发来的，而且把这个东西原样返回就行了。登陆微信公众平台，填写url和token（在本例子中就是程序中的TOKEN,也就是"mytoken"），按验证就可以了。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"><img src="http://www.wiz.cn/unzip/3eb90c0e-f584-11e0-a072-00237def97cc/b43de5cb-89ce-d7ec-7550-feeab9ae522b.5202/index_files/f82cc46a4bb22d15151795284be52e5e.jpg" width="354" height="225" alt="" border="0"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">成功会提示成功成为开发者，如果失败，会提示你你的服务器响应不正确。</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"><img src="http://www.wiz.cn/unzip/3eb90c0e-f584-11e0-a072-00237def97cc/b43de5cb-89ce-d7ec-7550-feeab9ae522b.5202/index_files/7851a041e4435b623f074b87e0bbca2a.png" width="600" height="250" alt="" border="0"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">ok，搞定。结果如下，可以进行下一步的微信公众帐号的开发了!</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">参考链接：</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;">&nbsp;<a href="http://mp.weixin.qq.com/wiki/index.php?title=%E6%B6%88%E6%81%AF%E6%8E%A5%E5%8F%A3%E6%8C%87%E5%8D%97" data_ue_src="http://mp.weixin.qq.com/wiki/index.php?title=%E6%B6%88%E6%81%AF%E6%8E%A5%E5%8F%A3%E6%8C%87%E5%8D%97" target="_blank" rel="noopener">微信接口文档</a>&nbsp;</p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"><a href="/admin/ http:/www.cnblogs.com/txw1958/archive/2013/01/24/weixin-if1-enable.html" data_ue_src=" http://www.cnblogs.com/txw1958/archive/2013/01/24/weixin-if1-enable.html">启用接口（php）,通过微信验证</a><a></a></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"><a href="http://blog.csdn.net/liushuaikobe/article/details/8453716" data_ue_src="http://blog.csdn.net/liushuaikobe/article/details/8453716" target="_blank" rel="noopener">微信机器人python</a></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"><a href="http://djangobook.py3k.cn/2.0/" target="_blank" data_ue_src="http://djangobook.py3k.cn/2.0/">django&nbsp;手册</a></p>
<p style="margin-top:0px;margin-bottom:0px;font-family:'Times New Roman';font-size:medium;line-height:normal;"><a href="http://sae.sina.com.cn/?m=devcenter&amp;catId=289" target="_blank" data_ue_src="http://sae.sina.com.cn/?m=devcenter&amp;catId=289">sae&nbsp;python部署</a></p>
</div>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/09/假如重读计算机/" itemprop="url">
                  假如重读计算机
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-09T20:40:10+08:00" content="2013-04-09">
              2013-04-09
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/04/09/假如重读计算机/" class="leancloud_visitors" data-flag-title="假如重读计算机">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<div class="art_content"><p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">假如本科重来一遍，我还要读计算机，不过我要换一种读法。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">我在豆瓣linux小组发起了这个话题——<a href="http://www.douban.com/group/topic/38059307/" target="_blank" rel="noopener">“假如重读计算机”</a>。</p>
<h3>学习游泳</h3>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">现在大三了，越来越感觉到剩下的学习时间已经不多了，而回首过去三年的专业之路，多少会有点遗憾。当然写这篇不是为了要在这里叹息，而是为了向后来人提供一些经验教训。写下来，点点滴滴，实在也算是一种财富。本科四年，就好像学习游泳，4个小时，要一个旱鸭子学会游泳——这很难，但是很有意思。大一的时候，老师领着我们到了游泳池旁边，对我们说，瞧，这就是游泳池，这是水。一些接触过游泳的同学就会有点烦闷了，谁不知道这是水啊。于是我们大家就在老师的带领下，在岸上学习游泳的动作，这是我们的第一门专业课——计算机文化。就在我们每天翻60页书的时候，到期末了，结果我考了一个60分，老师踢了我一脚，说该下水游泳了。于是我们就上了第二门专业课——C语言编程。刚下水，大家都很激动。我尤其记得，那时候没有电脑，就在本子上抄谭浩强的C语言经典教程。我告诉自己，我很认真地学习游泳，结果后来证明我是真的比较认真地在学。因为其实很大一部分女孩子，都不喜欢编程，他们喜欢别的一些东西。但是我是喜欢会编程的女孩子的，就像喜欢会游泳的女孩子一样。在水里游着游着，我发现我可以动了——编写出了一些简单的程序，哈哈，太激动人心了。就这样又一小时过去了，于是我们就成了本科班里面会游泳的“老人”了，部分大胆的同学到了深水区，他们不听老师讲解技巧，就独自地游了，有的在学蛙泳，有的在学蝶泳，还有的正在从狗刨转变到正常自由泳，当然部分牛逼的已经会蝶泳了，很轻松，但是很快速地游着。到了第三小时，老师就说，你们要自己在外面的河道，或者大海里面游了，所以大家都有点惊慌失措，因为之前谁也没有到过那样充满危险和挑战的地方游泳。其实正是在这时，才有了一点感觉，老师就赶着我们上岸，说别游了，除了选择进修班的，其他统统上岸，等下最后上岸的就是你！哎，到现在我就很想继续学习计算机，很多奥秘还没学会呢，但是谁让这课只有4小时呢，而且这4小时是强制的，这毁了多少不想当水鸭子的人的4小时青春。今后大学要是有一年预科就好了，了解一下究竟什么是你想读的，才去报，而不是糊里糊涂选了一个专业，最后被人莫名其妙踢下水。</p>
<h3>梦境</h3>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">现在，我躺在床上，迷迷糊糊，突然睡着了，我回到了大一，重读计算机：</p>
<blockquote>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">大一，我开始看师兄师姐推荐的启蒙读物《疯狂的程序员》《我是一只IT小小鸟》《李开复自传——世界因我不同》</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">看看自己到底是不适合计算机专业，如果看得很兴奋那么，恭喜，你对计算机有激情。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">有了上次的经验，我这次学乖了，想学习C语言，以前只用过windows系统，没有听说过linux，那么安装一个linux吧，真的不难，把光盘放到电脑里面，next就可以安装好我们的linux操作系统了，真的是激动无比，很有成就感，终于踏上了搞计算机的第一步。（当然要视自己的情况选择linux发行版，如linux，radhat，susu等等）</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">装好了系统，肯定是一阵折腾，安好驱动，各种自己需要的软件后就可以开始搞C语言的开发了。激动ing，那么先上网找一linux的教程吧，搭建好自己的开发环境。然后找一个权威的linux论坛或者博客平台，泡着，学习各种开发和管理用的命令。在linux下你可以完成日常的所有工作，慢慢的我接触了cd，wget，ifconfig 等命令，接触了vim编辑器，gcc编译器，gdb调试器。一开始会很难，但是习惯了，一切就顺利多了。尤其是我发现linux下有很多有趣的，高效的软件，例如guake，geany，eclipse等等。。好开心，每天都有新发现。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">大一下，我开始写自己的博客，将自己的学习笔记，计算机的一些值得记录的心得，记下来。一篇篇，看着自己在进步，相当有成就感。当然你要选择一个好的博客平台，那里的氛围决定了你的博客价值，好的平台有众多的优秀博文，而且活跃度很高，我可以交到可以互相促进的朋友，当年师兄推荐了CSDN，而我后来发现博客园很不错，牛人众多，博文也简洁优雅。于是我采用了cnblog，慢慢写，等我有一定积累时，（大三时），我就把博客迁出来，然后申请一个独立的域名和空间，这相当cool，就像自己成立了一个公司一样。当然做人呢，很重要的就是要专注。认定一个方向，做到极致，那么你就是卓越的人。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">以前我不明白为什么师兄叫我要在linux下搞开发，熟悉各种命令，现在我终于体会到他的良苦用心了，因为将来公司招聘的都是那些有linux基础的，因为公司里面用的都是linux比较多。而程序员写代码，很多都用vim，因为它能够用心来编辑，而不仅仅是靠眼睛和键盘。我上次读的时候，还不知道这些，等我知道了，我就快要毕业了。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">我重读计算机了，感到无比自信，因为我少走了上次的弯路。其他同学还在那里笨拙地学习怎么使用IDE新建工程时，我已经会用makefile来自动化我的编译链接。永远要比别人先走一步，这样才能把握机遇。因为我见到过牛人很认真，很有前瞻眼光，学习什么技术都有很长远的打算，而且成绩斐然。最恐怖的事情莫过于牛人比我更努力，这时候，我只有拿出十二分的认真精神，追赶上去，因为我知道差距就是一天天拉开来的。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">我重读计算机了，这回我知道要只挑一些经典的书籍来读，对于每一个阶段，每一门技术，都找一本优秀的教材指导自己。只看经典，于是我陆陆续续地看完了《The C programming language》《code complete》《programming pearls》《The introduction of algorithm》《data struct》等等经典的书籍。每读一本，我都是耐着寂寞，坐在图书馆思索，偶尔坐在电脑前编程练习。别人在学什么热门的技术，《30天学通XXX》我看都不会去看。慢慢地，我知道了哪些书是值得一看的，其实只要上豆瓣去看看别人的书评就可以了。当然可以看看<a href="http://www.guokr.com/blog/161798/" target="_blank" rel="noopener">这里</a>的推荐书单。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">这回，我也看看其他的书籍，长长见识，开阔眼界，数学，心理学，文学这些对于生活，身心有帮助的书籍，我都涉略一些。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">当然学计算机，肯定要学习一两门拿手的开发技术，例如web开发，linux网络编程等等。但是这次我吸取了教训，那就是好好学习数据结构和算法。以前读大学的时候，总喜欢去选那些新潮的语言开发技术，myphp框架，django框架，xxx模式。但是屡次发现，参加学校的各种比赛的时候，叫我们写算法，贪心，动态规划，排序等等，我们都是手足无措。而最终企业招聘的时候，也点名说要算法和数据结构好的。于是我终于明白，开发技术只是皮毛，理解了深层的算法和数据结构等基础知识，才叫学过了计算机。其实你尽管沉下心来，好好学算法，做ACM的题目，慢慢地你获得的竞赛奖就会越来越多，而最终应聘的时候，可以轻松找到工作。花俏的开发技术，掌握一两门就好了，当然不尝试过也不知道什么是好的适合自己的。所以存在矛盾，但是你尝试过后，要下定决心，要么抛弃，要么坚持。十个半桶水，不如一个满桶水。这是我的深刻的体会。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">简单说说开发技术，有很多路子可以走：</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">C/C++ 或者java基础编程 &nbsp; 今后很多是服务器编程</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">web开发 &nbsp; php/python/js 等等，掌握好一套的开发技术</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">安全学 &nbsp; &nbsp; &nbsp;当黑客或者安全专家，拥有坚实的算法基础</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">等等</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">其实web程序和pc端的程序都差不多，在其背后，都是对计算机中各种数据的操作存取，然后予以表现，只不过pc端的表现在本地界面，而web程序表现在浏览器端或者是移动客户端的界面。遇到事情，自己先琢磨一下，的确不能解决，我就不能继续下琢磨了，而是转而去学习，寻求帮助，从而找到问题的本质（找到问题的本质，你就找到了问题的解决办法，这招很有效果）。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">现在我重新读计算机，又到了大二下了，这时候我已经具备了参与项目的能力，于是我们有了自己的想法后，想要组团开发了，于是我们参与1-2个科研立项，锻炼自己在实战中的能力。当然搞项目，团队很重要，我试了结队编程，极限编程等等技术，发现还真的很不错。项目不在多，而在精，挑选你希望能够从他们身上学到东西的组员一起参与，然后在开发中体会你上的软件工程课里面提到的各种经验。软件工程是一门很有必要的课程，它是前人开发软件总结的宝贵经验。这不是在说教，而是切身体会。以前开发的时候，总是急匆匆地写代码，结果改了又改，舍本逐末，事倍功半。还是按照需求分析——》系统分析——》系统设计——》系统实现 这样的流程来，才能好好地搭建好软件系统的大厦。越来越觉得开发软件就像搞建筑一样，先有蓝图，然后打好地基，搭建框架，再填充实体，最后才粉饰墙面。如果你能力很强，团队很给力，那么你将会享受到一个项目成功带来的喜悦！</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">最后，到了大三下，我和几个同学约好了去xx牛逼公司应聘，结果，由于我三年的努力，被录用了，哈哈哈哈，我被录用了~</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
</blockquote>
突然，我感觉大地在摇晃，天空中响起一个声音：“基础不牢，地动山摇”，声音响彻旷野。额，我醒了，呆呆地坐在床上回味我的梦，原来只是一个梦。<p></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">以上梦境纯属虚构，旨在引导更多想学编程的人走对路子，当然很多都是我自己想重新来过的。大学的四年十分短暂，愿大家都好好把握好时光，踏踏实实地学习好基础知识，积攒一些项目经验，拥有一个美好的计算机生涯的未来。当然，篇幅很短，重来肯定也还有妹子，运动，健康等的话题没有出现，如果有想补充的可以予以补充。另外对于学校的课程结构，我也有很多话要说，但是现在只有一句宋丹丹的“忍着”。</p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;"></p>
<p style="font-family:'Times New Roman';font-size:medium;line-height:normal;">by bibodeng &nbsp; &nbsp; 2013-04-09</p>
<div><br>
<h3>END</h3>
</div>
</div>
<style type="text/css">
.art_content{
font-size: 15px;
letter-spacing: 1px;
line-height: 1.3em;
}

.art_content h3{
background-color:#000000;
color:#FFFFFF;
padding: 10px;
}

blockquote{
background-color:#CCFF99;
-webkit-border-radius: 5px;
}

.part_head{
background-color:#99FF33;
padding: 10px;
}

.example{
background-color:#CCCCCC;
font-size:1.2em;
-webkit-border-radius: 5px;
}

.small_title{
font:italic;
padding: 5px;
}
</style>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/07/深圳之旅/" itemprop="url">
                  深圳之旅
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-07T17:49:31+08:00" content="2013-04-07">
              2013-04-07
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/04/07/深圳之旅/" class="leancloud_visitors" data-flag-title="深圳之旅">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<div><span style="line-height:1.5;font-size:16px;">来到hm家，真宽敞真舒服，hm太幸福了。我们受到了hm一家的款待，一顿宵夜吃得太爽了。晚上和思愿睡一起，然后在一起聊了很多，感情，找工作，等等。很开心，晚上也睡得很好。</span></div>
<div><br>
</div>
<div><span style="font-size:16px;">深圳的花花世界真的很繁华，但是那些热闹的地方都不适合我。有时候感慨这个世界那么多腐败，街上那么多男人女人狂欢购物，繁华太多了，这不是我的世界观。旅途的种种劳累，真的不堪忍受，但为了美丽过程，脚痛算不了什么。</span><span style="line-height:1.5;font-size:16px;">三点多，我们在深大见到了规好师兄，一路逛深大。深大挺大的，树木深秀，人杰地灵。很多人走在小道上，我们一路走，一路谈谈工作学习，后来走的累了，就坐在湖边草地上聊天，关于妹子的，关于工作的。师兄说，出来工作之后，好像也不知道要去哪里玩，我想他应该是标准宅男吧，连下了班都还在公司呆着。我们问他平常都什么时间看书，他说在每天上班的路上，搭上班车就可以看书，这样的体验其实也不错。生活平平淡淡的，对着一堆的数据和文件，偶尔能找时间读读书，是生活中的一种消遣，也是一种自我升华。现在，有一种迫切想要出来工作的冲动，当然出来之后可能会碰到各种打击，但是现在算是信心满满，希望满满。总之聊了好几个小时，后来走到深大北门，有块草坪很有感觉而且能看到腾讯，中兴，TCL的大厦很是雄伟壮观，我想将来一定要来这样的地方工作，环境优美，积攒足够的财富，过着简单充实的生活。后来我们一起地铁到老街去吃晚饭，师兄请我们吃麦当劳，各种麦辣鸡翅，可乐，吃了个饱。当然我也看到了我们国家消费的强大，而且其中的奢靡（或者说是物质发达程度），也令我吃惊。</span></div>
<div style="text-align:center;"><a target="_blank" href="/content/plugins/kl_album/upload/201304/84d3aba9f7a2942c05445ac62d2933242013040709593510805.jpg"><img src="/content/plugins/kl_album/upload/201304/84d3aba9f7a2942c05445ac62d2933242013040709593510805.jpg" width="480" height="360" alt="点击查看原图" border="0"></a><br>
</div>
<div><span style="font-size:16px;">来到深圳的第二天，我们一起搭车去大梅沙看海，生平第一次要去看海，有些许的期待，看着窗外的小雨打在玻璃上，凝出一个小水珠，，变形，滑落。透过窗外可以看到氤氲水汽包围的树和附近港口卸下来的集装箱，我们知道快要到港口了。下了车，就看到一片大大的沙滩，前面就是一望无际的大海。高兴得简直要跳起来，欢喜地脱了鞋子和袜子，跳进了沙滩，沙子绵绵的，踩着真的很舒服，提着鞋到岸边，每分钟都会有浪拍打上来，然后把浪边游客的足迹抹平。远处是小岛，还有朦胧中像一座山的大货轮。岸边的山，云雾缭绕，如仙境一般，那海也是茫茫一片，淡蓝色，我喜欢。脚丫碰到水，挺凉的，忽然一个大浪，跑不及就会被溅湿裤管。还有些胆大的人，脱了衣服下去游泳，大海是深沉的，也是有力的，每一拍都很有气势。国东写道:“第一次亲密接触，有点小激动”。哈哈，长这么大看到的都是山，看到海，而且是这么美的海，真的会惊叹的。据说，我们老家那儿，以前也是汪洋一片，留下许多石子，还有海边礁石。天地能量无穷，山海互移，大自然如此神力，创造如此美景。终于我们张着脚丫，拖着湿裤脚走出了沙滩，又搭上了来时的380A班车，睡了一觉就觉得快到了hm家。</span></div>
<div style="text-align:center;"><a target="_blank" href="/content/plugins/kl_album/upload/201304/a0c9e882512997417a884e83721df5d22013040709574715183.jpg"><img src="/content/plugins/kl_album/upload/201304/a0c9e882512997417a884e83721df5d22013040709574715183.jpg" width="480" height="360" alt="点击查看原图" border="0"></a><br>
</div>
<div><span style="font-size:16px;">hm的父母都十分热情友好，每天都有丰富的美食和汤招待我们。hm是个幸福的孩子，听刘爸爸说，在他小时候，他们每年都会带他们三兄弟出去玩，给他们拍照。真的是非常有心，翻着那一本本相册，我感到照片中人的风华正茂，感受到一个家庭的温馨。说实话我有点羡慕这样的家庭，经过打拼，和国家一起富强起来，家庭又和睦。我和弟弟小时候挺开心的，但是在农村比较粗放，父母很多事情都没怎么插手我们的事，包括那些决定人生方向的决定，但有时候你却希望父母给予关心，提供一些参考意见，这样才会找回一点存在感。人，是感情的动物，尤其是在家里，对待亲人要予以关爱，爱是无限的，强大的。既然我没有很好的条件，那只有更加努力地学习，去创造条件建设一个这样的家庭。这两天，和可亲的朋友在一起，谈谈自己的感情，将来的工作，也挺不错的，渐渐觉得自己的路又明朗了，走走停停，留点时间思考。</span></div>
<div><br>
</div>
<div><span style="font-size:16px;">当我们聊到感情的时候，SY总是在感叹自己搞砸了事情，而且对这些事很不懂，我表示赞同。对于越是喜欢的人，在她面前就越不自然，心脏漏跳半拍，或者，改变了心的节奏。但感情没有那么容易，喜欢要是相互的才好，要是平等的才好。思愿说，他有个同学的女朋友都是主动牵手的，这样男生真是太幸福了，表白成功率达100%。可惜我们很少遇到这样的机缘，我们也不算很差，但是为什么那么难呢？估计是走着某个诅咒，要我们好好学习。我自己也觉得，做人要沉稳一些，别动不动就换主意，而是应该秉持一种长远的信念，而不是让自己深陷在迟疑中。不做决定是最坏的决定，最容易让人挂掉的不是那些绝路，而是那些十字路口。我们每晚都聊半个钟，然后安然睡去。这种日子真好，很自然，很安静。我比较适合和朋友一起在外面，而不是总待在一个地方宅着，这是我以前没有发现的。似乎外面的生活更自然，而学校里像笼子，想的很多，却是不必要的。每次出来，会有一次升华，令自己的身心又有了成长。当然，旅途是疲惫的，人很困乏，但是困乏的时候才能不顾一切安然入睡，这样才叫充实，从而没有时间去胡思乱想。</span></div>
<div style="text-align:center;"><a target="_blank" href="/content/plugins/kl_album/upload/201304/e994264cc11038f5b29e627dfe61bc892013040709593517726.jpg"><img src="/content/plugins/kl_album/upload/201304/e994264cc11038f5b29e627dfe61bc892013040709593517726.jpg" width="480" height="360" alt="点击查看原图" border="0"></a><br>
</div>
<div><span style="font-size:16px;">现在呆在图书馆，一切都那么安静，只有窗外的广播在唱，陪着我的还有千万卷的书，以及我身旁的一瓶淡定的水。</span></div>
<div><span style="font-size:16px;">by bibodeng 2013-04-07</span></div>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/02/【GTD】项目收尾/" itemprop="url">
                  【GTD】项目收尾
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-02T14:21:06+08:00" content="2013-04-02">
              2013-04-02
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/04/02/【GTD】项目收尾/" class="leancloud_visitors" data-flag-title="【GTD】项目收尾">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<p><span style="font-size:16px;">【折腾的痛】</span></p>
<p><span style="font-size:16px;">GTD将在今年5月就要解题了，就像@daoluan 说的，经过了一番的折腾，终于将这个东西给搞出来了。但是总体还是很生涩的，尤其是对于整个系统的架构，“代码跟着数据走”——为了积累这句话的经验，我们付出了惨痛的代价。在一开始，不知道要怎样与服务器交互，数据库的设计千疮百孔，而我负责的web端，随着采用框架，慢慢地解决了。中期审察的时候，老师指出了，我们应该先弄出一个服务器端和客户端，才来写那些花俏的界面。</span></p>
<p><span style="font-size:16px;"><br>
</span></p>
<p><span style="font-size:16px;">【软件开发的过程】</span></p>
<p><span style="font-size:16px;">GTD项目给我最大的礼物就是，认识到了软件开发整个过程是很有规律可循的，软件工程这门课就专门讲这个问题。我们的需求制定得非常模糊，只是说了要使得服务器/PC客户端/android客户端实现随时随地的同步，而因为没有真正深入地探讨这个任务管理软件应该做到什么样子而搞得很多时候都是在被动，左右修改代码，而且造成我们的用户体验不统一。有一款非常优秀的task管理我非常欣赏——</span><span style="font-size:16px;"><a href="http://pomotodo.com/ " target="_blank" rel="noopener">pomotodo</a></span><span style="font-size:16px;">界面很简单，但是用起来很舒服，虽然统计方面有bug，但是我还是觉得很棒。另外安卓端的<a href="http://www.any.do/" target="_blank" rel="noopener">anyDO</a></span><span style="font-size:16px;line-height:1.5;">也非常地好用，于是我们就按照这样的“需求”来做。这样看起来很小打小闹不是么？真正的软件工程，是一定要获得真正的用户的认可，需要做出一个原型，让后开发人员不断改进，这样做出的产品，才能够满足用户，才能够算是成功的项目。</span></p>
<p><span style="font-size:16px;line-height:1.5;">详细地回忆一下我们的web端开发过程：</span></p>
<p><span style="font-size:16px;line-height:1.5;">做了一个本地测试版本的应用程序-&gt;确定数据库设计-&gt;采用speedphp框架-&gt;再次设计GTD数据库-&gt;编写交互的js和php程序-&gt;做部分美化。</span></p>
<p><span style="font-size:16px;line-height:1.5;">在这个过程中，犯的很大的一个过错就是过早地进行了界面设计，由于网页设计方面琐碎的细节很多，网页要做得漂亮，少不了各种折腾，写js和css代码，渲染整个页面。而经过整个项目，才真正体会到，这本来是两拨人干的，但是却由同一拨人兼任了。而且由于需求的不明朗，对于交互界面修修改改，耗费了我们大量的时间。直到最后</span><span style="font-size:16px;line-height:24px;">使用MVC框架，</span><span style="font-size:16px;line-height:1.5;">完成所有的逻辑，才发现还有很多工作要做。这不是高效的开发方式，<span style="color:#e53333;">高效的开发应该是一切都是明确的</span>。明确的需求，然后就可以明确地设计模版，然后后台php就可以大胆地搭建逻辑，而需要紧紧盯住的就是前端和后台衔接的地方，还有后台与数据库衔接的地方。其实我们，应该找来那些开源项目，看看人家是怎么干的，是怎么写出逻辑清楚的代码的。</span></p>
<p><span style="font-size:16px;line-height:1.5;"><br>
</span></p>
<p><span style="font-size:16px;line-height:1.5;">【资源与工具】</span></p>
<p><span style="font-size:16px;line-height:1.5;color:#009900;">speedphp框架：</span></p>
<p><span style="font-size:16px;line-height:1.5;">在制作网页的过程中，我发现了很多帮助我们的工具，一个就是采用框架。经过师兄点拨，我在项目上应用了speedphp这个框架，它果然很容易上手，一个星期后就可以拿来项目上用了。很多时候我们浪费了大量时间在瞎琢磨，但是却不知道别人早已经给你写好了工具给你，只是你没有发现。<span style="color:#e53333;">Don't repeat yourself. &nbsp;<span style="color:#000000;">当然，这是我们自学能力的不足，没有主动去各种论坛，博客去发现自己想要的资源。</span></span></span></p>
<p><span style="font-size:small;"><span style="line-height:24px;">使用别人的框架很方面，但是要警惕框架也有可能把你变成只会做一些粗浅工作的码农，而不是一个思考的程序员。</span></span></p>
<p><span style="font-size:16px;line-height:1.5;"><span style="color:#e53333;"><span style="color:#009900;">背景和css生成：</span></span></span></p>
<p><span style="font-size:16px;"><a href="http://www.websbook.com/alltext/userexperience/5gwybjtpzzwz_17643.html" target="_blank" rel="noopener">五款在线背景生成器</a></span></p>
<p><span style="font-size:16px;"><a href="http://blog.jobbole.com/16375/" target="_blank" rel="noopener">在线css生成器</a></span></p>
<p><span style="font-size:16px;">网站很多圆角和阴影的css都是用这些工具生成的。</span></p>
<p>&nbsp;</p>
<p><span style="font-size:16px;">【遇到的困难】</span></p>
<p><span style="font-size:small;"><span style="line-height:24px;font-size:16px;">在开发过程中还碰到了很多困难，比如团队代码托管,SVN很强大，但是入门需要很大的努力。由于是在linux下，于是就简单学了一下svn的命令行命令——svn co, ci, update等，有时候为了搭建本地环境，还需要创建符号链接到另外一个文件夹下面，因为sae使用的speedphp核心和本地开发用的是不同的，但是其他controller/model/templete都是一样的。参看这篇——<a href="/admin"><span style="font-size:16px;">搭建sae本地开发环境</span></a>, 后来发现改动了许多代码，但是svn上面不能commit了，一怒之下，就重新上传代码包到sae上面，后来要重新建造一个本地开发环境，又一怒之下，写了一个脚本，下次碰到这事情，就运行一下脚本就行了，能自动化的事情，就果断自动化，美国有个哥们雇了一个中国团队开发，自己去冲浪就是一个很好的例子。不动手或者少动手就能够搞定一切事情，这才是高手：P</span></span></p>
<p><span style="font-size:small;"><span style="line-height:24px;font-size:16px;"><br>
</span></span></p>
<p><span style="font-size:small;"><span style="line-height:24px;font-size:16px;">当然不仅仅碰到代码部署的困难，还碰到了很尴尬的困难——看了code complete之后，发现自己写的很多代码都特别看不下去了，于是就按照书上面的设计原则： 封装/隐藏/命名要顾名思义 等，改了一阵子才纠正过来，后来的开发过程，果然轻松很多。虽然还是很多缺陷，但是比以前要好多了。</span></span></p>
<p><span style="font-size:small;"><span style="line-height:24px;font-size:16px;">【收尾】</span></span></p>
<span style="font-size:16px;"> </span><p><span style="font-size:16px;">&nbsp;雨一直下，GTD要收尾了。思愿同学做了很好的总结，很多东西一下子惊醒了梦中人。对于PC客户端，因为之前用Qt的时候发现它的网络功能还挺强的，而且整个结构十分清晰，这边怎么发，服务器端相应地怎么做处理。对于本地怎么记录离线操作（之后要同步的），使用log的方式是最好的，每个log记录一条操作，就像数据库管理系统的日志一样，可以undo/redo，这样才能体现其维护数据的灵活和一致性。可惜，我们的项目很粗浅，不能做到面面俱到，只是经过这次，学到了做项目的方法——看别人怎么做——》想想自己怎么做——》开做——》做得更好！ 这也是人活着成长的方式。可惜，我在开发过程中，没有注意要写些博客来记录整个过程，供读者参看。下面是简单的开发过程记录：</span></p>
<p></p>
<h2 class="con_title" style="margin:0px 0px 1em;padding:0px;font-weight:400;font-size:16px;line-height:1.6em;color:#202f0c;font-family:'Microsoft Yahei', Tahoma, Arial, Helvetica, STHeiti;letter-spacing:1px;"><a href="/?post=70">[GTD]开发9月下旬到10月下旬</a></h2>
<div><h2 class="con_title" style="margin:0px 0px 1em;padding:0px;font-weight:400;font-size:16px;line-height:1.6em;color:#202f0c;font-family:'Microsoft Yahei', Tahoma, Arial, Helvetica, STHeiti;"><a href="/?post=80">[GTD]关于开发的一些感想</a></h2>
</div>
<div><p><a href="/?post=83"><span style="font-size:16px;">[GTD]搭建本地speedphp for sae开发环境</span></a></p>
<p><span style="font-size:16px;"><a href="http://daoluan.net/blog/gtd-summary/" target="_blank" rel="noopener">参看思愿更详细的记录</a></span></p>
<p>by bibodeng 2013-04-02</p>
<p>&nbsp;</p>
</div>
<p></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/04/02/51CTO/" itemprop="url">
                  51CTO
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-04-02T14:00:21+08:00" content="2013-04-02">
              2013-04-02
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/04/02/51CTO/" class="leancloud_visitors" data-flag-title="51CTO">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            


          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/03/31/【python】写一个统计代码行数的codeCounter/" itemprop="url">
                  【python】写一个统计代码行数的codeCounter
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-03-31T14:49:18+08:00" content="2013-03-31">
              2013-03-31
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/03/31/【python】写一个统计代码行数的codeCounter/" class="leancloud_visitors" data-flag-title="【python】写一个统计代码行数的codeCounter">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<p><span style="font-size:16px;">某一天过去SY那儿，突发奇想说要写一个统计代码行数的小程序。说干就干，约定了一个时间——周六，来把这个想法给实现了。当然这个项目人家做过的也未必，google一下，果然有非常优秀的win下面的代码统计工具sourceCounter。当然我们是用python来写，确定了数据结构和算法之后，我们就开始实现了。</span></p>
<p><span style="font-size:16px;"><br>
</span></p>
<p><span style="font-size:16px;">我们要实现的是一个能够遍历指定的文件夹或文件，数出有多少行，然后好好将这个信息放到树的节点里面。总之，这是一个N叉树，N取决于该目录下面，有多少个子目录或子文件。我们使用列表list来模拟树型结构：</span></p>
<p><span style="font-size:small;"><span style="line-height:24px;">parentDir</span></span></p>
<p><span style="font-size:small;"><span style="line-height:24px;">&nbsp; &nbsp; subDir<br>
</span></span></p>
<p><span style="font-size:small;"><span style="line-height:24px;">在数据结构里面就是 [{counter: co, name: parentDir}, [{couter:co2, name:subDir}[]]]。当然这是最简单的情况，复杂一点就是，很多层嵌套，视目录深度而决定。总之就是发现了一个文件或者目录，就递归地扩展下去。上代码：</span></span></p>
<p></p>
<pre class="brush:python; toolbar: true; auto-links: true;">def walk_dir(self,folder_tree, topdown=True):
		for root, dirs, files in os.walk(folder_tree[0]['name'], topdown):
			for name in files:
				if name[0] == '.':
					continue
				
				if self.my_pattern.match(name):
				
					path_name = os.path.join(root,name)
					if os.path.islink(path_name):
						continue
					# calculate the summry of the file
					count_result = self.count_code_of_file(path_name)
					# insert into the tree
					
					sub_folder_tree = [{'name':path_name,'counter': count_result},[]]
					folder_tree[1].append(sub_folder_tree)
					# sum
					folder_tree[0]['counter'] = folder_tree[0]['counter'] + count_result
				
			for name in dirs:
				if name[0] == '.':
					continue
				path_name = os.path.join(root,name)
				# print(path_name)
				sub_folder_tree = [{'name':path_name,'counter': 0},[]]
				folder_tree[1].append(sub_folder_tree)
				self.walk_dir(sub_folder_tree, topdown)
				# sum
				folder_tree[0]['counter'] = folder_tree[0]['counter'] + sub_folder_tree[0]['counter']
			return</pre><p><span style="font-size:small;"><span style="line-height:24px;">这就是整个算法的核心部分，用os.walk整个dir，得到一棵树。一开始我们提出了两种方案：一，先生成树，再统计代码，因为需要回填；二，在生成树的同时，计算出代码行数。SY很敏捷，一下自己想出直接在后面加上folder_tree[0]['counter'] = folder_tree[0]['counter'] + sub_folder_tree[0]['counter']. 也就是每次遍历完一棵子树，就更新父节点的counter数据。这其中使用了递归的原理。code complete里面说，递归不是用来求求阶乘和斐波那契数列的，而是需要使用在更有效的需要栈的地方，我想说，这里就是。其核心原理就是每一层，构造一个[{counter:co, name:na }[]], 插入到父节点的[]中，构造树的过程，也完成了有关的计算。</span></span></p>
<p><span style="font-size:small;"><span style="line-height:24px;">接下来就是实现驱动脚手架了（一些数据输入和函数调用），然后实现打印模块，打印模块，需要表现缩进，故而有一个参数是tabs次数。具体实现如下：</span></span></p>
<p></p>
<pre class="brush:python; toolbar: true; auto-links: true;">def print_tree(self,folder_tree, tabs = 0,topdown=True):
		if os.path.isdir(folder_tree[0]['name']):
			print ' '
			print '   '*tabs,'+',folder_tree[0]['name'] , ' : ' ,folder_tree[0]['counter']
			
		else:
			file_name = os.path.split(folder_tree[0]['name'])
			print '   '*tabs,'+',file_name[1], ' : ' ,folder_tree[0]['counter']
			return
		if folder_tree[1]:
			
			for sub_tree in folder_tree[1]:
				self.print_tree(sub_tree,tabs +1)
		else:
			return</pre><p><span style="font-size:small;"><span style="line-height:24px;">一切就是这么简单，然后就定义一下有哪些文件类型了，这个可以用正则表达式来完成：</span></span></p>
<p></p>
<pre class="brush:python; toolbar: true; auto-links: true;">my_pattern = re.compile(r'[a-zA-Z1-9]+.(py|c|java|php|cpp|css|html|xml|htm|js|cs|h|asm|sh|ruby|perl)$')</pre><p><span style="font-size:small;"><span style="line-height:24px;">很显然是普通文件名，如果要加入下划线则在把字符串改成‘</span></span><span style="line-height:24px;">[a-zA-Z1-9]+[a-zA-Z1-9_.]* .(py|c|java省略</span><span style="line-height:24px;font-size:medium;">’。</span></p>
<p><span style="font-size:small;"><span style="line-height:24px;">最后，如果想要把树打印到文件里面也是可以的，之需要在print前面加上&gt;&gt;log_file变成 print &gt;&gt;log_file。总体代码不超过100行。当然使用linux下面的shell一句就能搞定：</span></span></p>
<p></p>
<pre class="brush:shell; toolbar: true; auto-links: true;">find /a -name "*.c" |xargs cat|grep -v ^$|wc -l</pre><p><span style="font-size:small;"><span style="line-height:24px;">当然这其实是linux应用程序的组合使用，grep等等强大的工具，表示还没有到那个神级别。好吧，窗外的雨下个不停，可是我的手指敲击键盘的声音，却要渐渐停息了。</span></span></p>
<p><span style="font-size:14px;">github : <a href="https://github.com/bibodeng/pyCodeCounter/blob/master/codeCounter.py" target="_blank" rel="noopener">pyCodeCounter代码[daoluan-bibodeng]</a></span></p>
<p><span style="font-size:small;"><span style="line-height:24px;">by bibodeng 2013-3-31</span></span></p>
<p></p>
<p></p>
<p></p>
<p></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/03/21/【python】解决project euler题目的乐趣/" itemprop="url">
                  【python】解决project euler题目的乐趣
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-03-21T18:38:00+08:00" content="2013-03-21">
              2013-03-21
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/03/21/【python】解决project euler题目的乐趣/" class="leancloud_visitors" data-flag-title="【python】解决project euler题目的乐趣">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<span class="Apple-style-span" style="border-collapse:separate;font-family:宋体;font-size:14px;line-height:normal;border-spacing:0px;"><p><span style="font-size:16px;">寒假期间学习了python，现在基本上就能上手使用它来解决project euler里面的题目了，用python真的是没得说的，一个字“赞”。在C++中需要用一大堆代码实现的算法，在python中，只需要那么短短几行。而且还有惊艳的运行速度。借用《可爱的python》里面的一句话：“人生苦短，我用python”。</span></p>
<p>&nbsp;</p>
<p><span style="font-size:16px;">【project euler 055】</span></p>
<p><span style="font-size:16px;">求经过一系列规则不能得到回文数的数的个数。题目在此：</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">If we take 47, reverse and add, 47 + 74 = 121, which is palindromic.</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">Not all numbers produce palindromes so quickly. For example,</span></p>
<p style="margin-left:50px;font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">349 + 943 = 1292,</span><br>
<span style="font-size:16px;">1292 + 2921 = 4213</span><br>
<span style="font-size:16px;">4213 + 3124 = 7337</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">That is, 349 took three iterations to arrive at a palindrome.</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">Although no one has proved it yet, it is thought that some numbers, like 196, never produce a palindrome. A number that never forms a palindrome through the reverse and add process is called a Lychrel number. Due to the theoretical nature of these numbers, and for the purpose of this problem, we shall assume that a number is Lychrel until proven otherwise. In addition you are given that for every number below ten-thousand, it will either (i) become a palindrome in less than fifty iterations, or, (ii) no one, with all the computing power that exists, has managed so far to map it to a palindrome. In fact, 10677 is the first number to be shown to require over fifty iterations before producing a palindrome: 4668731596684224866951378664 (53 iterations, 28-digits).</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">Surprisingly, there are palindromic numbers that are themselves Lychrel numbers; the first example is 4994.</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">How many Lychrel numbers are there below ten-thousand?</span></p>
<p class="info" style="position:relative;cursor:help;font-size:16px;font-family:'trebuchet ms', sans-serif;"><span style="font-size:16px;">NOTE: Wording was modified slightly on 24 April 2007 to emphasise the theoretical nature of Lychrel numbers.</span></p>
<p>&nbsp;</p>
<p><span style="font-size:16px;">思路：从1到10000进行逐个扫描，对于每个数进行判断，是否经过上述规则都不能产生回文数。在python中，有很方便的做法判断一个数是否是回文数。只需比较对称的列表位置是否相同 arr[i] == arr[lenth-1-i], i从0开始。当然做完之后发现有牛人用几行代码就把一切搞定了。不信请看：</span></p>
<p><pre class="brush:python; toolbar: true; auto-links: true;">def Lycheck(n):
   for i in range(0,50):
       n = n+int(str(n)[::-1])
       if str(n)==str(n)[::-1]: return False
   return True
len([n for n in range(10000) if Lycheck(n)])</pre></p>
<p><span style="font-size:16px;">python给我的一个印象就是列表操作很方便，类型转换超级自由，而且对于大数的运算非常快。这道题目用python解只用了1s。amazing！ 另外一个很特别的是，python支持函数式编程，lambda算子可以创建函数对象，传入某个程式里面，非常了得。本人在DES的程序中，也看到了类似lambda(x,y: x^y)的函数，非常地神奇，能够对map里面的元素都执行这个操作。</span></p>
<p>&nbsp;</p>
<p><span style="font-size:16px;">【project euler 056】</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">A&nbsp;googol&nbsp;(10</span><sup><span style="font-size:16px;">100</span></sup><span style="font-size:16px;">)&nbsp;is&nbsp;a&nbsp;massive&nbsp;number:&nbsp;one&nbsp;followed&nbsp;by&nbsp;one-hundred&nbsp;zeros;&nbsp;100</span><sup><span style="font-size:16px;">100</span></sup><span style="font-size:16px;">&nbsp;is&nbsp;almost&nbsp;unimaginably&nbsp;large:&nbsp;one&nbsp;followed&nbsp;by&nbsp;two-hundred&nbsp;zeros.&nbsp;Despite&nbsp;their&nbsp;size,&nbsp;the&nbsp;sum&nbsp;of&nbsp;the&nbsp;digits&nbsp;in&nbsp;each&nbsp;number&nbsp;is&nbsp;only&nbsp;1.</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">Considering&nbsp;natural&nbsp;numbers&nbsp;of&nbsp;the&nbsp;form,&nbsp;</span><em><span style="font-size:16px;">a</span><sup><span style="font-size:16px;">b</span></sup></em><span style="font-size:16px;">,&nbsp;where&nbsp;</span><em><span style="font-size:16px;">a,&nbsp;b</span></em><span style="font-size:16px;">&nbsp;</span><img src="http://projecteuler.net/images/symbol_lt.gif" width="10" height="10" alt="&lt;" border="0" data_ue_src="http://projecteuler.net/images/symbol_lt.gif" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial;vertical-align:middle;"><span style="font-size:16px;">&nbsp;100,&nbsp;what&nbsp;is&nbsp;the&nbsp;maximum&nbsp;digital&nbsp;sum?</span></p>
<p><span style="font-size:16px;">思路： 很明显，这个位的和要大，显然要够长。既要够长，每位数字的数字也要够长。我脑海里面立马蹦出了99的99次方这样的数字。但是不能想当然，我还是从91开始，计算到100，铁定能够找到那个各位和最大的数。程序如下：<pre class="brush:python; toolbar: true; auto-links: true;"># project euler 56
# !/usr/bin/python
# -*- coding: utf-8 -*-
import sys


def power_digit_sum():
	max_digits_sum = 0
	for i in range(91,100):
		for j in range(91,100):
			power_num = pow(i,j)
			print power_num
			digits_sum = sum_digits(power_num)
			print digits_sum
			if digits_sum &gt; max_digits_sum:
				max_digits_sum = digits_sum
	print max_digits_sum
			
			
def sum_digits( power_num):
	digits_sum = 0
	while power_num != 0 :
		rear_num = power_num % 10
		power_num = power_num / 10
		digits_sum += rear_num
	return digits_sum
	#return sum(map(int, power_num))


power_digit_sum()</pre></span></p>
<p><span style="font-size:16px;">运行就能够找到答案了。</span></p>
<p><span style="font-size:16px;">【project euler 057】</span></p>
<p></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">It&nbsp;is&nbsp;possible&nbsp;to&nbsp;show&nbsp;that&nbsp;the&nbsp;square&nbsp;root&nbsp;of&nbsp;two&nbsp;can&nbsp;be&nbsp;expressed&nbsp;as&nbsp;an&nbsp;infinite&nbsp;continued&nbsp;fraction.</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;text-align:center;"><img src="http://projecteuler.net/images/symbol_radic.gif" width="14" height="16" alt="√" border="0" data_ue_src="http://projecteuler.net/images/symbol_radic.gif" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial;vertical-align:middle;"><span style="font-size:16px;">&nbsp;2&nbsp;=&nbsp;1&nbsp;+&nbsp;1/(2&nbsp;+&nbsp;1/(2&nbsp;+&nbsp;1/(2&nbsp;+&nbsp;...&nbsp;)))&nbsp;=&nbsp;1.414213...</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">By&nbsp;expanding&nbsp;this&nbsp;for&nbsp;the&nbsp;first&nbsp;four&nbsp;iterations,&nbsp;we&nbsp;get:</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">1&nbsp;+&nbsp;1/2&nbsp;=&nbsp;3/2&nbsp;=&nbsp;1.5</span><br>
<span style="font-size:16px;">1&nbsp;+&nbsp;1/(2&nbsp;+&nbsp;1/2)&nbsp;=&nbsp;7/5&nbsp;=&nbsp;1.4</span><br>
<span style="font-size:16px;">1&nbsp;+&nbsp;1/(2&nbsp;+&nbsp;1/(2&nbsp;+&nbsp;1/2))&nbsp;=&nbsp;17/12&nbsp;=&nbsp;1.41666...</span><br>
<span style="font-size:16px;">1&nbsp;+&nbsp;1/(2&nbsp;+&nbsp;1/(2&nbsp;+&nbsp;1/(2&nbsp;+&nbsp;1/2)))&nbsp;=&nbsp;41/29&nbsp;=&nbsp;1.41379...</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">The&nbsp;next&nbsp;three&nbsp;expansions&nbsp;are&nbsp;99/70,&nbsp;239/169,&nbsp;and&nbsp;577/408,&nbsp;but&nbsp;the&nbsp;eighth&nbsp;expansion,&nbsp;1393/985,&nbsp;is&nbsp;the&nbsp;first&nbsp;example&nbsp;where&nbsp;the&nbsp;number&nbsp;of&nbsp;digits&nbsp;in&nbsp;the&nbsp;numerator&nbsp;exceeds&nbsp;the&nbsp;number&nbsp;of&nbsp;digits&nbsp;in&nbsp;the&nbsp;denominator.</span></p>
<p style="font-family:'trebuchet ms', sans-serif;font-size:16px;"><span style="font-size:16px;">In&nbsp;the&nbsp;first&nbsp;one-thousand&nbsp;expansions,&nbsp;how&nbsp;many&nbsp;fractions&nbsp;contain&nbsp;a&nbsp;numerator&nbsp;with&nbsp;more&nbsp;digits&nbsp;than&nbsp;denominator?</span></p>
<p><span style="font-size:16px;">思路：找规律，发现只要用几个变量就可以完全表示好这个式子的模式，从下往上看，有相当一部分x=（1/（2+1/2）），是由上一步产生的，而每步都是1+1/（2+x)组成的，而x的产生可以是递归的。另外第一次i=0的时候，比较特殊，是1+x的模式。</span></p>
<p><span style="font-size:16px;">总结规律如下：</span></p>
<p></p>
<p><pre class="brush:python; toolbar: true; auto-links: true;"># 计算展开式 e
# count 第几次展开, 采用递归法则
def cal_expansion(count,a,b):
   c = 1   
   d = 1    
   e = 2   # (2 + 1/2) 加号前的2
   if count == 0:  # first time is special
     c = b + a
     d = b
     return a,b,c,d   # 递归最底层
   elif count &gt; 0:  # the second time is special
     a = (b*e) + a
     a,b = swap(a,b)
     #print count,a,b
     count = 0            ​# 因为采用了自上而下，故而不这里的递归需要有所修改，直接奔第0次
     return  cal_expansion(count,a,b) #递归调用
 
# swap function
def swap(a, b):
    b,a = a,b
    return a,b


TIMES = 1000
# every time 
a,b,c,d = 1,2,1,1
count = 0
strc,strd ="",""
for i in range(0,TIMES):
    print i,"(",a,"/",b,")",c,d
    a,b,c,d = cal_expansion(i,a,b)   # 重复传递的a/b部分,如1/2， 2/5，5/12等，以及整个式子的结果c/d，如3/2
    strc,strd = str(c),str(b)
    if len(strc) &gt; len(strd):  #位数比较
        count +=1
print count</pre></p>
<p><span style="font-size:16px;">程序采用了递归，但是考虑到从上往下计算将会节省很多时间，故而用迭代进行计算。原以为迭代和递归是矛盾的，不能同时使用的，但是我先计算出的成果，从是能够运用到下一步的计算当中。这令我非常有成就感。下面是运行的例子：</span></p>
<p style="text-align:center;"><span style="font-size:16px;"><a target="_blank" href="/content/plugins/kl_album/upload/201303/3e434d96aefab6aa95f7e7edf8a865152013032110412618163.png"><img src="/content/plugins/kl_album/upload/201303/3e434d96aefab6aa95f7e7edf8a865152013032110412618163.png" width="480" height="284" alt="点击查看原图" border="0"></a><br>
</span></p>
</span>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/bitcoin-cash-logo.svg"
               alt="bibodeng" />
          <p class="site-author-name" itemprop="name">bibodeng</p>
          <p class="site-description motion-element" itemprop="description">区块链爱好者，互联网从业者</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">189</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">22</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/bibodeng" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/bibodeng" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/bibodeng" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://ifwallet.com" title="IFWallet" target="_blank">IFWallet</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://ifpass.cash" title="IFPassword" target="_blank">IFPassword</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">bibodeng</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("RrMSWOa8nuCnCCWn8TyPa7Od-gzGzoHsz", "8xnzit83sqv6vUEuXlsEWe0s");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
