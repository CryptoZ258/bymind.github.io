<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="计算机 比特币 互联网金融 IFWallet" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="区块链爱好者，互联网从业者">
<meta name="keywords" content="bibodeng, blockchain, bitcoin, bitcoin cash, life, programmer">
<meta property="og:type" content="website">
<meta property="og:title" content="bibodeng">
<meta property="og:url" content="https://bibodeng.github.io/page/6/index.html">
<meta property="og:site_name" content="bibodeng">
<meta property="og:description" content="区块链爱好者，互联网从业者">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="bibodeng">
<meta name="twitter:description" content="区块链爱好者，互联网从业者">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> bibodeng </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">bibodeng</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Think By My Mind</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/25/task命令行GTD工具用户手册/" itemprop="url">
                  task命令行GTD工具用户手册
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-01-25T17:57:29+08:00" content="2014-01-25">
              2014-01-25
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2014/01/25/task命令行GTD工具用户手册/" class="leancloud_visitors" data-flag-title="task命令行GTD工具用户手册">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="task命令行GTD工具用户手册"><a href="#task命令行GTD工具用户手册" class="headerlink" title="task命令行GTD工具用户手册"></a>task命令行GTD工具用户手册</h2><p>by bibodeng 2014-01-25</p>
<p>###名字（NAME）</p>
<pre><code>task - 一款命令行的todo任务管理软件
</code></pre><p>###命令（SYNOPSIS）</p>
<pre><code>task 过滤符 子命令 [&lt;mods&gt;|&lt;args&gt;]    //调用task子命令
task --version                      //可以获得task的版本号
</code></pre><p>###描述（DESCRIPTION）</p>
<p>taskwarrior是一个命令行式的任务列表管理软件。它可以维持一个你的任务列表，允许你添加/删除/修改任务。它具有丰富的子命令，可以做你想不到的事情。当然，在底层，它是一个任务列表排程程序。你添加文字任务和关于任务的描述，当你用日期来排列时它就是一个日程表，当你用优先级排列时，它就是你的做事顺序。你还可以添加标签，项目组，方便你管理你的这些任务。</p>
<p>###过滤符（FILTER）</p>
<p>过滤符号由0或多个查找特征组成，用来选择你想要查看或修改的任务，例如，列出所有<code>Home</code>项目下的任务：</p>
<pre><code>task project:Home list  // list是一个子命令，列出tasks
</code></pre><p>你可以指定多个过滤符号：</p>
<pre><code>task project:Home +weekend graden list
</code></pre><p>该例中，有三个过滤符： <code>Home</code>项目，weekend标签，还有描述中必须包含<code>garden</code>。当然也可以理解为：</p>
<pre><code>description.contains:garden
</code></pre><p>当没有过滤符号的时候，意味着所有tasks都将被选中，这时候你就要小心了，因为修改的时候是应用到所有tasks的，而且不能回滚。例如：</p>
<pre><code>task modify +work
this command has no filter, and will modify all tasks. Are you sure?(yes/no)
</code></pre><p>将会为所有tasks都添加一个work标签，当然前提是你选择了yes。</p>
<p>更多例子如下：</p>
<pre><code>task                                        子命令 操作内容
task 28                                     子命令 操作内容    // 选中第28个task（ID为28）
task +weekend                               子命令 操作内容    // 选中带weekend标签的
task project:Home due.before:today          子命令 操作内容    // 选中Home项目，且在今天之前的
task ebeeab00-ccf8-464b-8b58-f7f2d606edfb   子命令 操作内容    // 选中UUID为这个序列的
</code></pre><p>默认情况下，过滤器的各个条件是and（与）的，当然or（或）和xor（异或）也是可以用的，如下括弧里面的是支持的：</p>
<pre><code>task &apos;(/[Cc]at|[Dd]og/ or /[0-9]+/)&apos; 子命令 操作内容  // 这里用到了正则表达式,不懂正则。。那忽略吧，只要注意这里用了括号和or就行了
</code></pre><p>下面举些用到了ID和UUID的例子：</p>
<pre><code>task 1,2,3              delete
task 1-3                info
task 1,2-5,19           modify pri:H
task 4-7 ebeeab00-ccf8-464b-8b58-f7f2d606edfb   info
</code></pre><p>###修改内容（MODIFICATIONS）</p>
<p>修改内容可以由0个或多个修改组成，如下：</p>
<pre><code>task 过滤符 子命令 project:Home
task 过滤符 子命令 +weekend +garden due:tomorrow
task 过滤符 子命令 Description/annotation text
task 过滤符 子命令 /from/to/
</code></pre><p>###子命令（SUBCOMMANDS）</p>
<p>taskwarrior支持很多子命令，包含 读命令，写命令，杂项命令 和 脚本帮助命令。读命令不允许修改task，写命令对命令进行修改，脚本帮助命令帮助你写附加的脚本，例如shell的自动补全等。</p>
<p>####读子命令（READ SUBCOMMANDS）</p>
<p>reports是读子命令。输出和其它一些行为可以在配置文件里面配置，也有一些读子命令不是关于reports的。</p>
<pre><code>task --version              // 查看task的版本

task 过滤符                // 查看满足条件的tasks

task 过滤符 active         // 查看已经start，正处于激活状态的task

task 过滤符 all            // 显示满足条件的所有tasks，包括递归task的父task

task 过滤符 blocked        // 显示那些依赖于其它task的tasks

task 过滤符 burndown.daily     // 绘制日统计图像

task 过滤符 burndown.weekly    // 绘制周视图

task 过滤符 burndown.monthly   // 绘制月视图

task calendar [due|&lt;month&gt; &lt;year&gt; | &lt;year&gt;] [y] 
// 尖括号包含的内容替换成相应的量，显示一个月的日历,如果给出年，则显示一年的，如2014，如果给出年月，如`2 2014`则会从2014年2月份开始的几个月的日历。如果是due，则会显示预期最早的task。

task colors [sample | legend]   // 显示支持的颜色，有简单版和完全版之分

task columns                // 显示所有列和样式，在导出报表的时候非常有用

task 过滤符 completed      // 显示已经完成的tasks

task 过滤符 count          // 计算已经完成的tasks数量

task 过滤符 export         // 将选中的task导出成json格式，可以重定向到某个文件里面

task 过滤符 ghistory.annual    // 年报表视图,完成情况

task 过滤符 ghistory.monthly   // 月报表视图

task help   // 获取帮助

task 过滤符 history.annual     // 年报表

task 过滤符 history.monthly    // 月报表

task 过滤符 ids    // 获取被选中项目的id序列，如1-3或2，3这样
// 当用在修改特定的task时，它可是十分强大的，例如：
task $(task project:Home ids) modify priority:H
// 对Home project中的task进行修改，都添加一个高优先级,译者测试不成功，并且有点多此一举，不如用下面的：
task project:Home modify priority:H

task 过滤符 uuids      // 得到uuid的序列，用逗号分割

task 过滤符 information    // 也写作info，得到选中task的详细信息

task 过滤符 list       // 得到一个标准的列表，包含一些列

task 过滤符 ls         // 得到一个精简了列的task列表

task 过滤器 minimal    // 极简列表

task 过滤符 newest     // 得到最新的tasks

task 过滤符 next       // 显示最紧急的一批tasks,按照urgency这个计算得来的指标排序

task 过滤符 ready      // ready的tasks，指没在时间表中，或者已经过期了的

task 过滤符 oldest     // 最早的tasks,按age排序

task 过滤符 overdue    // 在超出预期未完成的

task 过滤符 projects    // 列出所有的projects

task 过滤符 recurring      // 查找递归

task 过滤符 unblocked      // 没有依赖性的

task 过滤符 waitting       // 显示正在等待的tasks,和顺序有关
</code></pre><p>####写子命令（WRITE SUBCOMMANDS）</p>
<pre><code>task add 内容 // 添加一个任务到列表

task 过滤符 annotate 操作内容    // 为task添加注释

task 过滤符 append 内容          // 追加文本到已经存在的task尾部

task 过滤器 delete 操作内容      // 删除满足条件的task

task 过滤符 denotate 操作内容    // 当内容和task原有的notate相符时，则删除notate

task 过滤符 done 操作内容        // 将task标记为已经完成

task 过滤符 duplicate 操作内容 // 复制原有的task,并可以修改,如有操作内容是作为notation

task import &amp;lt;文件1&amp;gt; [&amp;lt;文件2&amp;gt;]   // 从文件中导入tasks

task log 操作内容     // 添加一个新的但是已经完成了的任务,等于做记录

task merge &lt;url&gt;    // 远程合并task数据库，如
ssh://[user@]host.xz[:port]/path/to/.task/
rsync://[user@]host.xz[:port]/path/to/.task/
[user@]host.xz:path/to/.task/
/path/to/local/.task/

你甚至可以在.taskrc配置文件中对常用的url进行别名设置。

task 过滤符 modify 操作内容    // 修改现有的tasks，操作可以有添加标签，修改project，优先级等

task 过滤符 prepend 操作内容   // 为task添加文字到头部

task pull &lt;url&gt;     // 拉取远程的数据覆盖本地数据库

task push &lt;url&gt;     // 推送自己的版本到远程，这和版本库很类似啊，下次你搭建一个服务器，随处都可以访问了

task 过滤符 start 操作内容   // 标记为开始

task 过滤符 stop 操作内容   // 移除开始标记，暂停
</code></pre><p>###杂项子命令（MISCELLANEOUS SUBCOMMANDS）</p>
<pre><code>task config [name [value|&apos;&apos;]] // 查看或者修改某项配置

task diagnostics    // 诊断

task execute 外部命令`// 执行外部命令

task logo       // 显示taskwarrior的logo

task reports    // 列举所有支持的报告项，包括系统报告和用户自定义报告

task shell      // 进入task的命令行，可以直接list这样运行执行

task show [all | substring]     // 显示当前设置

task 过滤符 stats  // 显示统计信息，包括空间及其它状态信息

task 过滤符 tags   // tags的统计信息

task 过滤符 projects   // projects的统计信息

task timesheet [weeks]      // 得到一个周报表，哪些做完了，哪些开始了

task undo   // 撤销最近的动作

task version    // 显示版本号的详细信息
</code></pre><p>###帮助子命令 （HELPER SUBCOMMANDS）</p>
<pre><code>... 不想翻译了，翻完上面的手都酸了，我都会用了，原谅我的懒惰...
</code></pre><hr>
<p>end<br>    </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/23/做自己的英雄——读《DOOM启示录》/" itemprop="url">
                  做自己的英雄——读《DOOM启示录》
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-01-23T20:24:40+08:00" content="2014-01-23">
              2014-01-23
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2014/01/23/做自己的英雄——读《DOOM启示录》/" class="leancloud_visitors" data-flag-title="做自己的英雄——读《DOOM启示录》">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="做自己的英雄"><a href="#做自己的英雄" class="headerlink" title="做自己的英雄"></a>做自己的英雄</h1><p>by bibodeng 2014-1-23</p>
<p>你来这个世界上是否做自己的英雄，还是在一直埋怨着家庭，社会给你的无奈。你是否追逐过你心里所谓的梦想，还是只是止步不前，任自己的懒惰把一切热情给消耗殆尽。</p>
<p><img src="http://www.bibodeng.com/content/plugins/kl_album/upload/201401/7fdc1a630c238af0815181f9faa190f52014012312190786222422.jpg" alt="john-carmack"><br><img src="http://www.bibodeng.com/content/plugins/kl_album/upload/201401/d6767a67e499137d063d82bea89ef27920140123122054632432213.jpg" alt="john-Romero"></p>
<p>##前言</p>
<p>今天，我的电脑因为一个命令搞坏了文件系统，开不了机，这让我很恼火。于是我骑着单车，去找寻解救的办法，出去之后一股腊风吹得我很爽，可能是因为好几天没出门的缘故。本来我昨天睡觉前看完《DOOM启示录》，准备明天早点起床，把这篇文字弄出来，谁曾想，居然又让一个乌龙把我一天的时间都浪费掉了。</p>
<p>##传奇人物</p>
<p>之前看网易游戏-云风的博客，对，就是那个写出大话西游的主力程序员（有着披肩长发），他提到了这本神奇的书。第一眼看，我就被它吸引住了，因为它让我感觉热血沸腾，让我再一次有了心跳的感觉。我足足看了三天才看完，这说明它的篇幅不短，看完我发现，里面记录的十年是计算机游戏腾飞的历史，从DOS时代就有了2.5维的游戏，这不免让我感到惊讶，而那个我初中的时候在网吧见过的《重返德军总部》，竟然也是故事的两个主角 <strong>卡马克和罗梅洛</strong> （两位john，你想起两个steve了没有？）开发的。</p>
<p>卡马克是一个天才程序员，后来辍学去开发游戏。他是典型的程序员，他热爱的是编程，并且超越了游戏。我发现我也是那种热爱编程的人，虽然也会游戏，但是我总不会沉浸在游戏中，甚至我打游戏很烂。其实老早我就听说了那个造火箭的john，没错，就是他。他的编程能力在逐步开发更强大的游戏引擎的时候，得到了不断地提升，直到最后他做出了真三维效果，令无数人惊叹。也许在今天我们随处可见3D游戏的时代，觉得这并没有什么奇特的，但是你光是想想要怎么样通过透视法让屏幕上各种东西看起来在三维的世界中，你都会惊叹原来这一切是多么地伟大。卡马克毫无疑问是极客类型的人，无论是他暴富后的买的几辆法拉利，还是他小时候的火箭梦想。但是他对于编程的热爱，似乎没什么能够动摇，即使是同事在工作室看片，他也只是嗯了一声，就继续编程。一周八十小时的编程，让他已经达到了禅宗境界。他甚至形成了自己的一种处世哲学，那就是务实，低调，即使是DOOM大获成功之后，他依然没有被胜利冲昏头脑，欢庆后继续自己的编程。最后，也遇到了一个聪明，大方的姑娘，并结下了良缘。直到他认为达到了游戏图形图像编程的巅峰，转战到他的火箭梦想中去了，那时他28岁，千万富翁。</p>
<p>而罗梅洛却是完全迥异的家伙，他热爱游戏，从小便酷爱，是十足的玩家。小时候他便这样写他的落款——王牌程序员，未来的百万富翁。可谓是牛逼轰轰，后来他和卡马克在《软盘》杂志相识，出去创办了深思软件，也就是大名鼎鼎的<strong>id</strong>，那个后来做出雷神和DOOM的公司（小公司，员工总共才13人）。罗梅洛天生带有游戏氛围，所以id才能在随地都是键盘按键，互相搞怪，打闹中一起做出划时代的DOOM。他们二人的合作亲密无间，默契十足。卡马克做引擎，罗梅洛做工具和设计。但是后来，DOOM的成功，让他成为了形象大使，到处去布道，和玩家接触，他自己也是最牛逼的死亡竞赛玩家，他俨然如耀眼的明星一样。但是卡马克受不了他这样对后续的工作——做优秀的游戏 不够负责，最终两人闹崩，罗梅洛被解雇了。但是少了两个john中的任何一个，id都不像之前的那样充满乐趣却又配合默契了。后来罗梅洛创办了离子风暴，但是像样游戏没做出几款，却因为耗费太多人力物力财力，而折戟沉沙。读到这，我感到无比叹息，原本好端端的伙伴，为什么因为改变而使得不能再好好面对了。</p>
<p>罗梅洛的活泼，也给他带来了乐趣，能够像闪耀的明星和纽带一样聚集一大伙人，但是如果没有务实且忠诚的人们的奋斗，梦想永远只是梦想。离开了罗梅洛的id死气沉沉，再也没有什么被摔烂的键盘和恶搞了。但相比之下我更欣赏卡马克的冷酷与理性，虽然木讷，但是却有原则，并且很踏实。永远热爱和志同道合的人成为朋友，互相探讨着技术问题，而道不同的时候果断不相为谋，无论对方过去和自己是多么亲密的伙伴。罗梅洛的婚姻也是摇摆不定，离过几次婚，虽然他自己希望做一个好丈夫，好爸爸，卡马克在婚姻上也比较踏实。罗梅洛的梦想与狂热，卡马克的务实与冷酷，结合在一起才是互补完美的。</p>
<p>看题图，可以看出他们各自是哪张照片吗？</p>
<p>##一斑</p>
<p>下面我摘抄几句，那些让我热血沸腾的句子：</p>
<p>&gt;随着硬件技术的发展，编程的局限越来越不成问题了，只要有一台PC机，一张linux光盘和一个因特网账号，一些披萨和可乐，你就可以达到你期望的编程境界。</p>
<p>一切境界都在量的积累。而我觉得，我要的也很简单，不需要什么豪华的房子，或者是华丽的摆设，只需要能够充饥的食物，可供工作的材料，那么我们就可以发光发热了。</p>
<p>&gt;卡马克不需要什么娱乐，休闲，如果说游戏是对工作，家务，压力，劳累的释放和解脱，那么他不需要，甚至是不能理解的。他看到电视上人们出入酒吧，结伴郊游，所有这些都对他毫无吸引力。显然，这世界上太多人并不那么喜欢自己从事的工作。</p>
<p>这句话深深地刺激着我的神经，虽然我们有时候编程正爽的时候被人打搅很不爽，或者编着编着忘记了吃饭。但是我还是时常抱怨，做着一些繁琐的工作，或者自己能力不够，下辈子不做程序员。但是确有一种人，他们希望下辈子，仍然做程序员。我们，热爱着我们的程序员工作！你现在叫我不写程序，我还真不知道自己能够做什么，即使我在编程之余发展着自己的业余兴趣。</p>
<p>&gt;罗恩立刻飞往德克萨斯，出乎他的意料，id的这些百万富翁们只是一群留着长发，穿着大短裤的孩子。他们的办公室简直就是一个垃圾场，到处是破碎的计算机部件，几星期的比萨盒，以及堆积如山的饮料瓶。</p>
<p>有志不在年高，并且英雄也大都出在少年。虽然不乏那些大器晚成者，但是少年英雄们，他们很早就开窍了，并且做着自己热爱的事业。乔布斯23岁就已经是百万富翁了，这毫无疑问让我们这种按部就班来的人觉得压力山大，不过即使今天你不名一文，你也不知道经过你的奋斗，你的事业能够达到一个空前的高度。所以，创业的同学，从来不会去羡慕别人，当然也没有这个时间去羡慕，这点我确实能够体察到。</p>
<p>当他们仿照任天堂的超级马里奥（不要说你不知道这个游戏），在PC上实现了，他们当时觉得这东西酷毙了。我想说，从一个令你自己雀跃的成果开始坚持下去，你也许就是下一个百万富翁。</p>
<p>试问，看到这里，肯定都不好意思为自己的平庸找借口了吧？当然，我们即使不是一个极客，也尽量把事情做好，这样积累下来，正如之前看的那个IBM的短片所说：行走在平凡的路上，终有一天，遇见不凡的自己。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/12/归前小记——记微点创业实习/" itemprop="url">
                  归前小记——记微点创业实习
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-01-12T23:44:21+08:00" content="2014-01-12">
              2014-01-12
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2014/01/12/归前小记——记微点创业实习/" class="leancloud_visitors" data-flag-title="归前小记——记微点创业实习">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
归前小记
====

by bibodeng 2014-1-12

今天是周日，晚上就不写代码了，放松一下。这么说好像我每天都花很多时间在编程一样，其实每天能够进入状态的就那么2-3个钟头，其它时间都在进入状态。

2013年12月27号过来广州雄洲这边，至今也有半个多月了，也算过了一把创业的瘾。来到微点这个小小的办公室，我第一次的印象是觉得还不错。毕竟是大学生创业，能够租起一件像模像样的房子，大家一起聚在这里办公，还是不错的。我们也像模像样地开会，在自己的办公桌上摆上笔记本编程，一切好像还真有创业的意思，尤其是当雄洲在白板面前演示产品的时候，我们也会想象不久的未来能够获得客户。

工作室做的产品是微信营销平台，让商户接入自己的公众号，然后向用户提供各种服务，包括微官网，还有会员卡什么的。来的这几天，我就帮着解决一些前端的问题，然后用SVN来整合代码，大家都会用SVN的感觉真好，有了一个合作的基础。后来，我就阅读整个框架的文档和源代码，所以也能开始写后端了。架构的时候，我们是整个技术部（虽然只有4个人）就一起讨论这个功能应该怎么设计，然后确立数据库。由于采用第三方的框架，我们还是有一定的基础，不用什么都从头来过。而且采用最新的bootstrap3，这让整个前端都看起来高端大气上档次。我直说我来所起的作用可能不算很大，但是我感觉对于整个团队还是有那么一点点作用的。一个创业团队要走得远，的确需要一个很好的团队，要有很好的技术。这些，等做出产品之后，似乎就更加有说话权了。

让我来介绍一下这个团队吧，团队总共有6个人，雄洲（boss），仰升（大厨），亚秋（P神），伟伟（db伟），思聪(聪哥)，还有一个学电子商务的实习生海峰。雄洲是一个很有梦想的人，推动着整个团队在前进，填各种产品的坑，多的时候甚至一个人挑四五个项目，所以有时候凌晨三点多睡就不足为奇了。我一般都是快到12点就撑不住了，再往后的效率也不会好到哪里去，所以会选择早点睡觉。而仰升和亚秋暂时的任务是小编，帮忙做各种网页的素材，还有帮忙准备我们的晚餐。仰升是我们这里公认的大厨，据说我来的时候，他才开始煮饭的，第一次还把煎蛋煮成烤蛋了。但是后来发现，煮的东西越来越好吃，有客人来最高规格的时候，有四菜一汤，每个人吃完都很满足，所以仰升被我们尊称为大厨，而他也自称在我们这批码农的称赞下会更加有动力。

有时候，吃完饭，仰升总习惯泡一壶茶，和亚秋坐在那里品，而我没有这个情趣和习惯，所以都是简单粗暴地用一次性塑料杯喝。有一次，仰升还拉来了几个老乡和同学，我们围坐一圈品茶，那个叫晓芬的姑娘来泡茶，手法娴熟，可以看出来关公巡城，韩信点兵等手法，据说潮汕的同学对于喝茶，做饭什么的都比较有修养，把我们的胃都养得饱饱的。而我这种从小养尊处优的孩子，尚不知做菜煲汤，但是我绝对有成为厨师的潜力，仰升不在的时候，早餐的面都是我煮的，勉强还算得上好吃，如果加点辣椒酱或者老干妈，那就更佳了。都说会做饭的男人很有魅力，我觉得仰升就是这种男人，我打算也学个一招半式，将来去深圳的时候能够煮点好吃的养活自己。

跨年那天，仰升带来了一帮同学，我们打火锅，吃得很爽，尤其是肉圆加辣椒，那叫一个爽，整个晚会我们总是干杯，不知道多少杯下肚后，开始起了反应，头晕晕的，行动不便，好几次打翻了杯子。party上有四个女生，一个一整晚都在说卧槽的女汉子，还有晓芬，以鸿的女朋友，还有一个低调的女生。他们男女生的关系之好，让我有点意外，至少在我们那里，我营造不出这样的轻松氛围。那天也收到腾讯发来的贺卡，跨年的晚上我特别地高兴，没想到就这么醉了，以至于下半场没我什么事了，因为我跑进去里面的房间睡觉了，睡到他们几个要躺下的时候，我刚好醒了，他们酒量不错啊，改天看门口的啤酒瓶，满满三箱子。接下来的日子，太清苦了，说起来都是泪。工作室都没钱吃饭了，一个晚上，光煮面了，甜面，咸面，辣面，换着口味煮，那一顿只花了6块钱。当然，我还是会有一些钱的，用来吃饭什么的，本来打算回家前留个几百的，没想到还超支了，实在是太花钱了。其实粗粗一算，也差不多30块一天，他们这边的吃喝程度（聚会频繁度），比我们在学校要夸张一些。考研完了那天，还去烧烤摊摇骰喝酒，差点又喝醉，还好跑得快，否则又要被放倒了。

某天，从宿舍洗完澡出来的时候，雄洲跟我讲了他们班里这些人的花名，什么砂锅粥，乌龟秋，其实是因为阿秋帅帅的，但是行动说话什么的很低调，普通话的口语不太准，乐观什么的会说成落观，这和乌龟直接有点神似，具体相似在哪，我也说不上。还有刘大头，大只鸿，蚯蚓（同宿舍的曾立瀚，唱歌很好听）。还有孙大炮，其实就是仰升，但是其实我觉得他吹的一些还是挺在理的，并且平时也有读一些自己喜欢的书，说实话和这样的人交流。一天，我看到他当护旗手的军装照，很帅，我说我也想当一名军人，然后他说他的梦想就是当一名军人，难怪他会去当护旗手。我们常常都是这样，边走边聊，我们出来东门的时候，顺便在旁边的小摊上买两个手抓饼，做手抓饼的是两个年轻人，长得还是挺帅的，做的手抓饼也好吃，我们大口吃着手里热乎乎的饼，边畅谈人生，有了好吃的东西，人生貌似都变得更加有意义了呢。

很多时候睡一个满足的午觉，会让整个下午都充满着能量。写代码不是做苦力，需要有良好的环境和氛围，这样创造力才会迸发出来。这里每个人都各有特色，伟伟挺努力的，人也老实，虽然技术一般，但是让人感觉很踏实；思聪能力上还行，但是却因为打游戏而荒废了，早上总是不能准时来上班，故而每天真正能够进入状态工作的时间，我估计也不会很长。据说他之前是很积极上进的，但是后来因为打机而变成这样，人大多是因为惰性而毁掉的，即使有聪明天性，也敌不过后天的怠惰。他在昨天离职，这也是我预料之中的事情，既然态度不够积极，那么对于整个团队注定不能起很大作用。雄洲因此也开会强调过，不过这种会议冗长让我觉得尴尬，人就是这样，不开窍的话，怎么敲打都是这样，等有一天突然明白了，不说他都会自动去做。真正有一颗觉醒的心的人不多，这也是所谓的有心人。

上了床的时候，往往都是一天的阅读时间，拿出微信订阅号来一篇篇翻，然后聊聊关于妹子的话题，慢慢睡去，我发现我不是那个最晚睡的那个，但是却最晚睡着的那个，但是我却是那个起得最早的，这有点不太合理。伟伟是强调了出勤之后才搬来的，但是他睡觉的姿势令我咋舌，因为每天起来都可以看到他的被子掉到地上，露出一整个臀部，不冷么。我说，要是起床发现有个小手枪顶住背部，那该如何是好啊，好在这样的事情永远都没有发生过。妹子，是屌丝程序员们的永恒话题，我们宿舍这几个月就有两个找到工作后，找到了女朋友，真的是爱情事业双丰收啊。有时候我反观自己，的确会不甘寂寞，而一觉醒来又发现，如果刻意去追逐的话，不能得到，那就放弃吧，现在我已经能够淡定看待了。

今天下午，雄洲陪着我去海珠客运站买票，我们就讨论了一下那些同学，我们一致认为大家都好像平平过这样，并没有说去做到一个极致，追求卓越。也许是因为慢慢地被生活给消磨了，或者是发现周围的人都是这样，我何不也就这样也好。说这话的时候，我也在私自愧，平常做事情也没有做到很牛逼很牛逼，很多时候都是半途而废的，而牛逼的人是把自己干的事情都干得很好很喜欢。雄洲说自己现在什么都不怕了，没钱吃饭，碰壁，都不算什么，只要接受它，然后按着自己的方法去改变它。说实话我很佩服他的勇气，他要是不约我，说不定我也是早早回去家里，放弃这个体验的过程，也会错失很多思考的机会。我把这次当作一个实习，一个重新出发的起点。期待着来年，同思愿一样在深圳开启一个美好的生活，能够生活得很开心，工作得有激情，思考得有深度。

今天买到了车票，15号回家去，在父母，外祖父母大人的膝下做一个孩子。

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/03/精进的2013，希望的2014/" itemprop="url">
                  精进的2013，希望的2014
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-01-03T01:08:17+08:00" content="2014-01-03">
              2014-01-03
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2014/01/03/精进的2013，希望的2014/" class="leancloud_visitors" data-flag-title="精进的2013，希望的2014">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="精进的2013，希望的2014"><a href="#精进的2013，希望的2014" class="headerlink" title="精进的2013，希望的2014"></a>精进的2013，希望的2014</h2><p>by bibodeng 2013-01-03</p>
<h2 id="2013都干了些什么"><a href="#2013都干了些什么" class="headerlink" title="2013都干了些什么"></a>2013都干了些什么</h2><p>稍稍回忆一下，2013都干了些什么，记得大三上学期，基本上还是在老实上课，课余写了个微信公众平台，当时思愿也在接触python。我偶尔带着电脑去学校的图书馆编程，2012年冬天买的笔记本，正处在蜜月期间，就带着它学习了python，写了些东西。但是后来思愿对于django啊研究得很深，而我还是停留在使用阶段，不由得汗颜。</p>
<pre><code>1. 找实习
2. 在迅雷实习
3. 参加校招
4. 来广州搞开发
</code></pre><p>然后，就是到了5月份，开始找实习。大家都很着急，一开始去腾讯笔试面试，当时跟面试官交谈，感觉又距离专业近了一步，回去又有很多东西要学。所以，对我来讲，往后的这些面试就是一些查漏补缺的事情了。我也是大三才决定学习前端，后来才发现有好多东西要学啊，整天不睡觉地学也学不完。后来陆陆续续去了一些公司面试，其中一次去一个恒拓开源的公司面，看起来像是搞培训的，在我看来是骗人去上课的，不是我们想要的那种。那次的面试，给了我很大的信心，即使我的Java水平不怎么样，但是我的素质还是属于可造之才的。后来，就收到迅雷的实习面试邀请，有幸进入到迅雷里面实习，里面的人都很nice，我很久很久以前仿佛梦到了一幕：我做的东西太烂了，被赶出了公司。仿佛每次重要时刻，总是曾经梦到过一样，仿佛一切都是曾经注定过了，也许也会因为个人的努力而改写。在迅雷实习三个多月，每天都一样的节奏，早早起床，累一天，然后晚上冲凉看书，12点准时睡觉。每天最得闲的时间就是在公交车上，可以趁着这段时间调整一下心情，想想工作之外的事情。尤其是晚上坐公司的bus回宿舍，总能在下车之前听完美丽时光的一首歌。就这样，日子就过了3个月，收获了一些友情，见识。我非常感激面试官能够赏识我，导师能够不鄙视我，而是循循善诱。在迅雷，同高一届的新人们参加培训，去软件园的电影院听讲，去过好几次，记得那个HR mm挺漂亮娴静的，有一次还遇到在软件园做测试的，同时住我楼上的测试mm 晓静。其实和人亲近接触了就会发现，除自己之外的人也是相当可爱的。他们善解人意，大方得体，包括住对面的CUHK的硕士律师师姐（唱歌很好听），还有隔壁的秀萍同学。当然少不了一起待深圳的宝良和丽卿，萍中，我真实地感受到了与他们相处的自在。我不知道是因为我幸运还是深圳这个城市的素质比较高，总之我爱上了深圳这个地方，地方也干净，也很宜居。只是消费稍微高了点，虽然实习补贴不算多，但也能活得OK，毕竟我这种常宅家里的程序员，除了吃饭不怎么花钱。</p>
<p>然后就到了校招季，老实说，我也请假跑过几次广州，总监也总是给我批，也有几次因为广州而错过了面试。有时候我会觉得对不起公司，但是导师说，公司不欠你什么，你也不欠公司什么，在你工作时候认真负责就OK了。其实到最后，我三方签的都是迅雷。但是腾讯深圳那次，想去证明一下自己，被挡在二面了，后来又奇迹般地收到了面试通知，又面了好几轮，最后到了HR面，那时候已经回到学校了。然后就是长长的杳无音信，直到圣诞节，又有机会和思愿一起去深圳了。虽然大家都调侃我和思愿的“基情”，但是真的是知音，佩服对方的能力和思想，以至于一起写书。结束实习回到学校，还在班里上去做实习分享，虽然口才不怎么好，但是也算言之有物了。还跟师弟师妹做了一次分享会，讲一些我们认为重要的东西，认识了几个有心的师弟师妹，其中一个还来过宿舍找我们，就像当年我们去找师兄一样。其实与师兄也好，与思愿也好，与C222其它4条舍友也好，君子之交，淡如水。一转眼，宿舍的几条友都有着落了，好几个是名企名校，虽然还有一个还没签，但是也不会太差。然后我们宿舍一下子就堕落成了网吧，每天都是睡到三杆起，开上好几盘dota。有时候觉得这样的日子太颓废了，所以就慢慢也跑跑图书馆了。</p>
<p>后来就应雄洲的约，到广州来参与开发。一开始我在想，我应该给这个团队带来什么呢？是一些开发经验呢，还是整个的严禁又活泼的氛围。事实证明我想多了，刚成立的组织还是较为松散，毕竟不发工资。但是大家一起吃饭，编程，开会，这种务实的风气还是好的。雄洲就是有什么东西，都敢做，我之前对于老师委托的网站也是不愿意去做，觉得不如看几本书。经过几天接触，工作室做的东西不算很有技术含量，但却是之前的我没有接触过的，敢尝试也是不错的，并且能够把一个工作室搞得像模像样，已经不容易了。这几天，我逼着自己去，团队中存在的一个问题是程序员不够，项目太多，不是所有人都是技术好的，能够整天（包含晚上）编程的。在这里，我逼自己用svn，接触新东西，发现并不是那么难，我学到了一个字 —— <strong>敢</strong>。</p>
<h2 id="2014去哪儿"><a href="#2014去哪儿" class="headerlink" title="2014去哪儿"></a>2014去哪儿</h2><p>不出意外的话，明年应该是去深圳，但愿能够租个好房子。有了上次实习的经验，也能够一个人生活了。要是唤作往年的时候，我肯定会列一下今年的目标，要考什么分数，编程能力上升多少。今年，甚至都没有很明确的目标，是时候告诫自己，进了大公司不代表高枕无忧了，更多梦想等着我去实现。技术上，我们的目标越来越明确了，在前端上多钻研一点，学习nodeJS，比起在学校要更加勤奋。一切只是时间问题。</p>
<pre><code>1. 毕业设计
2. 与好友的毕业照片
3. 一次旅行
4. 职场第一枪
</code></pre><p>感情上，感觉稍微成熟了一点，承诺给自己一个开心的生活，给他们一个靠谱的生活。慢慢得，逐渐成长起来，会比较理性地去看待问题，也不会那么冲动了。当然我还是那个没心没肺的果冻，我看我自己的笑容，都是很小孩子气的，跟我不那么近的人应该感受不到，希望这种天真保持得久一点。四年大学生涯马上就要结束了，一定要好好珍惜这剩下的学生时光。写好毕业设计，拍一组帅气的毕业照，单独出去外面旅行一次，在职场中打响第一枪。三年之后，我不知道会变得怎样，但是应该是具备接受现实的意识，但是却不沦为俗套的一个程序员。人，找到自己的自在之所，做自己的自在之业，爱与自己自在相处之人，则足矣。我在毕业生推荐表里面写道：“假如世界上的人都是昆虫，那我相信自己是一只萤火虫”。无论在哪里，都要不同凡响，为了那些生命中的灵光闪现！</p>
<hr>
<p>end</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/12/04/js设计模式基础——继承/" itemprop="url">
                  js设计模式基础——继承
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-12-04T23:59:39+08:00" content="2013-12-04">
              2013-12-04
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/12/04/js设计模式基础——继承/" class="leancloud_visitors" data-flag-title="js设计模式基础——继承">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="js设计模式基础——继承"><a href="#js设计模式基础——继承" class="headerlink" title="js设计模式基础——继承"></a>js设计模式基础——继承</h1><p>by bibodeng 2013-12-04</p>
<h2 id="js中的继承"><a href="#js中的继承" class="headerlink" title="js中的继承"></a>js中的继承</h2><p>js中的继承分为几种：</p>
<ul>
<li>类式继承 （构造函数的prototype链扩展） extend</li>
<li>原型式继承 （从对象的角度） clone</li>
<li>掺元类 （混合多个类）</li>
</ul>
<h2 id="类式继承"><a href="#类式继承" class="headerlink" title="类式继承"></a>类式继承</h2><p>使用原型链的方式，让构造函数的原型指向另外一个对象（注意是对象）。我们平常做的比较多的，就是创建一个新类，然用用prototype扩展这个类，然后生成的类的对象实例则具备了原型链对象中的方法和属性了。</p>
<p>让一个类继承另外一个类的四部曲：</p>
<ul>
<li>设置原型对象</li>
<li>恢复构造函数</li>
<li>执行构造函数（构造函数也执行父类构造函数）</li>
<li>生成新对象</li>
</ul>
<p>然而在new的过程中，将会调用自身的构造函数，让一个类继承另外一个类，就需要它调用一次父类的构造函数，从而在this中声明各种属性。并且把构造函数设置回自己的构造函数（因为会覆盖掉）。现在为了实现两个类之间的继承，实现一个模拟继承：</p>
<pre><code>function extend(subClass, superClass){
    var F = function() {};
    F.prototype = superClass.prototype; // 这句挺巧妙
    subClass.prototype = new F();   // 相当于调用过了superClass的构造函数，并且将F的对象实例赋给了subClass的prototype对象
    subClass.prototype.constructor = subClass; // 恢复构造函数
}
</code></pre><h2 id="原型式继承"><a href="#原型式继承" class="headerlink" title="原型式继承"></a>原型式继承</h2><p>从原有对象的基础上进行修改变换。类的基础是一个对象:</p>
<pre><code>var Person = {
    name: &apos;ren&apos;,
    talk: function(){
        console.log(&quot;hi, my name is &quot;+this.name);
    }
}

// 克隆方法，将obj放到新对象的原型链中
function clone(obj){
    function F(){};
    F.prototype = obj;
    return new F;
}

// 原型继承
newObj = clone(Person);
</code></pre><p>在clone之后，对于从原型继承而来的属性，直接更改的话会改变原型对象中的数据，会对别的子类产生影响，而如果给一个属性赋值的方式，如obj.name = “bibo” 将会新建一个新对象自己的属性。所以，要改变某个属性之前，先为它创建新的副本，而不是让它默认使用原型的值，这也能够解决上面所谓的<strong>读写不对称</strong> ，这多少和我们之前的继承认识有所不同。不过可以使用hasOwnProperty来区分是实际成员还是继承的成员，因为hasOwnProperty是不把原型链中的属性或方法算在内的。</p>
<h2 id="多类继承（混合两个类）"><a href="#多类继承（混合两个类）" class="headerlink" title="多类继承（混合两个类）"></a>多类继承（混合两个类）</h2><p>使用的是将一个类中的属性拷贝到另外一个类中。这样就把两个类（一个函数）的属性给混在一起了。</p>
<pre><code>function mix(receivingClass, givingClass){
    if(arguments[2])
    {
        // 可能不止一个类掺入，存起所有prototype
        for(var i=0, len = arguments.length; i &lt; len; i++){
            receivingClass.prototype[arguments[i]] = givingClass.prototype[arguments[i]];
        }
    }
    else
    {
        for(methodName in givingClass.prototype){
            if(!receivingClass.prototype[methodName]){
                receivingClass.prototype[methodName] = givingClass.prototype[methodName];
            }
        }
    }
}
</code></pre><p>上面的函数用于掺杂多个类的prototype属性。一般是继承prototype对象里面的东西：</p>
<pre><code>var ClassA = function(){};
ClassA.prototype = {
    // 这里的才是prototype对象中的属性和方法
    method1: function(){console.log(&quot;method 1 call&quot;)}
}

// 假设有另外一个类：

var ClassB = function(){};

mix(ClassB, ClassA); // 将method1给混到ClassB中去
</code></pre><p>大部分代码都是从书中摘抄的，这里只是稍微梳理一下各种代码。其实最根本的还是弄清原型链的关系。对于问题的敏锐性，是能够注意到事物之间的关联，理清关键联系，这样能够朝着目标解决问题。</p>
<hr>
<p>end</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/12/02/简析js设计模式接口基础/" itemprop="url">
                  简析js设计模式接口基础
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-12-02T19:56:41+08:00" content="2013-12-02">
              2013-12-02
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/12/02/简析js设计模式接口基础/" class="leancloud_visitors" data-flag-title="简析js设计模式接口基础">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="简析js设计模式接口基础"><a href="#简析js设计模式接口基础" class="headerlink" title="简析js设计模式接口基础"></a>简析js设计模式接口基础</h1><p>by bibodeng 2013-12-02</p>
<p>想起要对js设计模式中一些基础的代码做一个简单分析，让自己印象更加深刻。例如接口，继承，闭包等等，方便以后要的时候直接拿来。</p>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>接口，学过Java的同学肯定知道，声明一个接口，里面有若干方法，而一个类负责实现（<code>implements</code>）它，语言本身的机制会强制该类必须实现接口中声明的所有方法，否则就会报错。实现接口的目的是为了提供一组通用的叫法，让不同的对象实现它。很常见的就是在组合模式中，父元素和子元素都实现了相同的接口，从而可以很直接地将请求从任意一层传递下去。总之，接口能够提供一个通用的方法库，也要保证各类都有实现所有方法。接口在js中的实现方法有三种： </p>
<ul>
<li>注释法 （就是用注释来说明）</li>
<li>属性检查法</li>
<li>duck type(会呱呱叫的都是鸭子)</li>
</ul>
<h2 id="属性检查法"><a href="#属性检查法" class="headerlink" title="属性检查法"></a>属性检查法</h2><p>注释法就不详细看了，因为它就是用注释声明一些接口，而不做任何检查，完全靠人工检查是否实现了相应的方法。而属性检查法，相对来讲严格一点，它将一组接口的名字都放入一个数组中。</p>
<pre><code>// 这是后面组合模式表单的一个例子
var ClassA = function(){
    // 声称自己有一组接口
    this.interfaces = [&apos;Composite&apos;, &apos;FormItem&apos;];
}
</code></pre><p>为了检查是否实现了相应的接口，就检查该类的实例是否具有某个接口，这个某个接口是作为字符串传入需要检查的接口名。</p>
<pre><code>// 模仿implements
function implements(obj){
    // 对传入的参数（接口名进行检查）
    for (var i=1; i &lt; arguments.length; i++)
    {
        var interfaceName = arguments[i];
        var interfaceFound = false;
        // 检查声称的接口 比对两个数组需要两个循环
        for (var j=0; j&lt;obj.interfaces.length; j++){
            if (obj.interfaces[j] == interfaceName){
                interfaceFound = true;  // 接口j找到了
                break;
            }
        }
        // 只要有一个接口没有实现
        if(!interfaceFound){
            throw {
                name: &apos;interface error&apos;,
                msg: &apos;some interfaces not found in obj&apos;
            }
            return false;
        }
    }
    return true;    // 全部通过检查
}

// 调用方法
if (!implements(obj, &apos;Composite&apos;, &apos;FormItem&apos;)){
    ...
}
</code></pre><p>这次只是把这些接口名都放到一个数组中，但是还是没有确保在<code>ClassA</code>中实现接口中的方法（还是以注释的方式说明）。在实践中看起来也没啥用处。我们需要的是真正能够检查对象的方法，我们瞬间想到了<code>for (var index in obj)</code> 对每个方法进行检查。而我们的接口，也应该放在一个像这样的对象中，它能够维护接口的名字和各种方法名。</p>
<pre><code>{
    interfaceName: &apos;Composite&apos;,
    methods: [&apos;add&apos;, &apos;remove&apos;, &apos;getChild&apos;]
}
</code></pre><p>初步的思想是有了，但是实现要灵活，能够生成一个如上的对象。<code>duck typing</code>就是这样做的：</p>
<h2 id="鸭式辨形"><a href="#鸭式辨形" class="headerlink" title="鸭式辨形"></a>鸭式辨形</h2><p>会呱呱叫的两只脚走路的会游泳的就是鸭子。我们生活中常常是一个经验主义者，通过这样的方法来判断事物。所有，理解起来也不是很难：</p>
<pre><code>// 接口对象
var Composite = new Interface(&apos;Composite&apos;, [&apos;add&apos;, &apos;remove&apos;, &apos;getChild&apos;]);

// 要得到上面的对象，我们写一个构造函数专门用来新建接口对象
function Interface(interfaceName, methods){
    this.interfaceName = interfaceName;
    this.methods = methods;
    // new操作将返回this
}

// 如果要严密一点，就需要检查参数的个数和类型
</code></pre><p>这次就不用注释了，而且代码很明了。声明了一个接口对象Composite,它的名字叫做<code>Composite</code>,具有<code>add</code>，<code>remove</code>，<code>getChild</code>三个方法。那么如何声明实现了该接口，并且用什么来确保对象实现了我们接口声明的方法呢？</p>
<p>这次都不用声明实现了该接口，只要实现了相应的方法就是实现了该接口。所以不用显式地声明<code>implements</code>了什么。而是在某个方法之前用<code>ensureImplements</code>来检查。至于设计成<code>Interface</code>的内置方法，还是普通函数，都是可以的。</p>
<pre><code>// obj, interf1, interf2
Interface.ensureImplements = function(obj){
    if (arguments.length &lt; 2){
        throw new Error(&quot;arguments require for at least 2&quot;);
    }

    // 依次检查 这次的参数是interface实例，不再是字符串
    // 而一个字符串数组也变成了真正的对象的属性
    for (var i=1; i&lt;arguments.length; i++){
        var interface = arguments[i];
        // 严格的类型检查
        if (interface.constructor !== Interface){
            throw new Error(&quot;argument &quot; + i + &quot; is not the instance of Interface Class&quot;);
        }

        for (var j=0; j&lt;interface.methods.length; j++){
            var method = interface.methods[j];
            if (!obj[method] || typeof obj[method] !== &apos;function&apos;){
                throw new Error(&quot;ensureImplements error: method&quot; + interface.methods[j] +
                    &apos; in interface &apos;+ interface.interfaceName + &apos; was not found.&apos;);
            }
        }
    }
}

// 调用示例
function foo(formObj){
    // 不满足条件回报错
    Interface.ensureImplements(formObj, Composite, FormItem);

    // 使用接口中的方法
    formObj.remove();
    ...
}
</code></pre><p>主要就是实现一个<code>Interface</code>类，供生成实例，也提供一个<code>ensureImplement</code>方法。只要引入了这个类，就可以使用new一个Interface，然后检查的方式严格要求类实现了接口中的方法。但是我总觉得少了一步，就是声明一下某个类实现了某个接口。当然也可以用数组将所实现的接口都存一个对应的应用，如<code>{&#39;Composite&#39;: Composite}</code>。但是这样看起来就不像是鸭式辨型了。</p>
<hr>
<p>end</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/11/29/【书】读《js设计模式》/" itemprop="url">
                  【书】读《js设计模式》
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-11-29T11:17:51+08:00" content="2013-11-29">
              2013-11-29
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/11/29/【书】读《js设计模式》/" class="leancloud_visitors" data-flag-title="【书】读《js设计模式》">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="读《js设计模式》"><a href="#读《js设计模式》" class="headerlink" title="读《js设计模式》"></a>读《js设计模式》</h1><p>by bibodeng 2013-11-29</p>
<h2 id="迫切的需求"><a href="#迫切的需求" class="headerlink" title="迫切的需求"></a>迫切的需求</h2><p>接触前端大概一年了，由于许多深入的东西都不懂，所以做不出高级的东西。对于稍微复杂一点的需求，都觉得难以下手。于是意识到了要学学设计模式了，所以就翻开（准确来说是点开了）这本《javascript设计模式》。由于有了js的基础，在读了《js编程精粹》之后，对于这门语言有了喜爱和习惯，于是这本书读起来也没有太大压力。我在读的过程中，曾对照自己之前做过的一些页面功能，发现书中的模式很多是可以应用进去的，并且写出来的代码已经优雅很多，由于少了杂乱，故而维护和扩展就容易了，代码出错的几率降低很多。</p>
<p>现在读完第一遍，我克服了自己敲代码欲望，或者说是因为懒惰而没有敲代码。过了一遍，对于设计模式总算能够几个了。装饰器，命令，组合，代理等等，像小学生一样能够掰着手指数出来了。</p>
<h2 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h2><h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><p>对于每一种模式，都有详细的例子帮助理解，首先各种模式的基础，首先是js的面向对象（基于对象）。声明一些单体或者是类，将数据和方法都封装起来，更进一步的，使用接口确保对象实现了某些方法。闭包的方法对对象的封装，真正做到了内外的隔离，普通的使用下划线命名方法来标示私用方法，但是闭包中只有返回的对象才能访问闭包里面的方法。这就像是一个孩子打娘胎里面出来，出来以后还能用娘胎里面的资源，有点不可思议，但这却是非常有用。闭包能做到这样是因为其上下文是词法上下文，对象方法将在其定义的地方运行。</p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>oop的三要素是 封装，继承，多态，封装起来的东西要能重用，就必须用到继承，而继承又有很多种，经典的是clone，另外一种是共用父对象，然后按需修改。clone需要消耗更多资源，而共用的话虽然消耗资源少容易引起冲突。</p>
<h3 id="思维导图"><a href="#思维导图" class="headerlink" title="思维导图"></a>思维导图</h3><p><img src="http://www.bibodeng.com/content/plugins/kl_album/upload/201311/2dce8da4d2a3c7480901c758f3c40c5a2013112902543112793.png" alt="js设计模式思维导图"></p>
<p>有兴趣的话，点这里<a href="http://vdisk.weibo.com/s/cNgTU_6cNWzK" target="_blank" rel="noopener">下载</a>。</p>
<h3 id="详细的导图"><a href="#详细的导图" class="headerlink" title="详细的导图"></a>详细的导图</h3><p><img src="http://www.bibodeng.com/content/plugins/kl_album/upload/201311/cb5a6107522bf8d479788248cb01a0722013112902543526907.png" alt="js设计模式思维导图-大"></p>
<p>有兴趣的话，点这里<a href="http://vdisk.weibo.com/s/cNgTU_6cNWzU" target="_blank" rel="noopener">下载</a>。</p>
<h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><p>后续将对一些具体的模式做笔记，通过使用代码的方式来巩固对于模式的认识。至少知道这些模式之后，对于一些功能的实现心里就有底了，这很大程度得益于本书的例子很丰富： 图书馆管理，rss阅读器，tips组件，表单组件，远程代理等等例子非常生动，严重建议搞web前端的同学读读这本经典。</p>
<hr>
<p>end</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/11/28/【书】人生是一场修行——读《少有人走的路》/" itemprop="url">
                  【书】人生是一场修行——读《少有人走的路》
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-11-28T21:20:20+08:00" content="2013-11-28">
              2013-11-28
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/11/28/【书】人生是一场修行——读《少有人走的路》/" class="leancloud_visitors" data-flag-title="【书】人生是一场修行——读《少有人走的路》">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="人生是一场修行——读《少有人走的路》"><a href="#人生是一场修行——读《少有人走的路》" class="headerlink" title="人生是一场修行——读《少有人走的路》"></a>人生是一场修行——读《少有人走的路》</h1><p>by bibodeng 2013-11-28</p>
<h2 id="对自己负责"><a href="#对自己负责" class="headerlink" title="对自己负责"></a>对自己负责</h2><p>也许这种文字不太适合放到博客里面去，因为未必有人感兴趣。花几天看完了《少有人走的路》，也许该写写读后感，因为我对于书中的内容有共鸣。都说读书是从书中的世界里面发现自己，从这本书里面我看到了自己的影子。常人掌握控制意识的能力能够做出更加恰当的决策，而探索未知的潜意识更多是心理学家做的事情。</p>
<p>人的意识有多个阶段：</p>
<ul>
<li>婴儿阶段： 自我意识很弱，潜意识和意识高度统一</li>
<li>少年阶段： 意识形成阶段，具备一定自我意识，会遇到意识和潜意识不统一的情况，从而产生迷茫</li>
<li>成年阶段： 具备成熟的意识</li>
</ul>
<p>而我们的提升，是要控制自己的意识，达到潜意识和意识的统一，从而活的更加快乐和幸福。要做到心智的成熟我们需要懂得自律：</p>
<ul>
<li>推迟满足感</li>
<li>承担责任</li>
<li>尊重事实</li>
<li>保持平衡</li>
</ul>
<p>控制我们意识的主要目的就是保持和客观世界和内在潜意识的和谐一致。不得不承认心理的力量，有时强大到能够产生奇迹，这种力量来源于我们的爱和勇气。</p>
<h2 id="人生是一场修行"><a href="#人生是一场修行" class="headerlink" title="人生是一场修行"></a>人生是一场修行</h2><p>人生挺辛苦的，这个是我长大之后体会到的。但是其实也不苦，只是稍微要付出点努力而已。派克认为人的原罪（罪过的根源）是<strong>懒惰</strong>。《追风筝的人》里阿米尔的爸爸说盗窃是一切罪过的根源，杀人是盗窃他人的生存权利。懒惰作为答案会更加深刻一点。大多数人的不幸，除了先天，多数是因为懒惰造成的。正是因为维护正义和促进自身的心智成熟需要付出艰苦卓绝的努力，所以大多数人都很懒。于我自己的影子当中，我也或多或少地察觉到那些贪嗔痴都是因为自己的不够理性，不够有智慧，从而陷入其中的痛苦中。中国的儒家，印度的佛教，欧洲的基督教，都是教导大家心智成熟的，塑造人心内的坚定信念，对世界施以仁爱，正义。当心境做到足够宽广，也就成了圣贤，菩萨。人生是一场修行，很辛苦，但是可以很精彩。</p>
<p>如此说来，世上又有什么难事呢？只要你想，集中精力努力去做，又有什么事情是做不成的。人的聪明才智虽然有限，但是竭尽全力总不见得一无所获。</p>
<h2 id="关于潜意识"><a href="#关于潜意识" class="headerlink" title="关于潜意识"></a>关于潜意识</h2><p>我很小的时候就仿佛体会到那种使命感，不清楚那是潜意识，还是因为阅读所引发出的我对事物和生活的热爱。《少有人走的路》中说潜意识是光明，是上帝的意识。而如果我们自己的意识有了错误，和潜意识不相互吻合，就会产生一些病态，让人痛苦。至于潜意识到底是不是上帝的意识，这很难说。也许大自然的意识是所有人所共享的，领悟它的大门随时为人们打开，里面有对事务的洞见和领悟。那些很成功的人，似乎都有一种使命感，他们或狂热地投入自己钟爱的事业，或在不断的困难中提升自己。不由得想起前段时间李开复采访库彻时说：“我相信有上帝，有神的意识”，而那些能够进入领悟大门的人，似乎都具有了与众不同的见识。其实每个人都有自己的意志，很多时候真的是看你愿意不愿意勇敢去担当这份使命而已，它可能是自己潜意识立下的使命。</p>
<p>很重要的一种触碰到人类智慧的方法是——阅读先哲们留下的经典。听百家讲坛讲《易传》的时候有这种感觉，阅读卢梭的《忏悔录》的时候也有这种感觉（尽管里面什么大道理也没讲）。或许是人类本来就和自然连接在一起，并且潜意识很强大，知道更多我们平常没在意的事情。但是这种爱智慧的传承方法，确实令人对自然感到敬畏，也为先哲们写下的经典深深震撼。独立之人格和自由之思想，我想大概是从书籍里面开始的。一个人开窍，甚至可能因为一件小事或一段文字触动了他的神经，从此以后他便积极向上，走向心智成熟了。</p>
<p>冥冥之中，人与宇宙是相通的。什么时候能够获得心智上的自由，那么便没有哀愁忧虑，取而代之的是悠长的幸福感，是爱。也许，这些东西很虚，但是这确实是某些人的实际感觉，只有勇于探索才能获得更多真知灼见。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/11/21/重写share2SNS/" itemprop="url">
                  重写share2SNS
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-11-21T10:48:04+08:00" content="2013-11-21">
              2013-11-21
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/11/21/重写share2SNS/" class="leancloud_visitors" data-flag-title="重写share2SNS">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="重写share2SNS"><a href="#重写share2SNS" class="headerlink" title="重写share2SNS"></a>重写share2SNS</h1><p>by bibodeng 2013-11-20</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前段时间，@myunlessor 兄跟我讨论的时候提到我之前用的那个分享到SNS网站的js写得并不够优雅，有许多冗余的地方。而我最近也在看javascript的设计模式，发现代理模式非常适合这种用来发送一组GET请求的情况，尤其是参数较少的时候。于是我就试着实现一个代理模式实现的版本。</p>
<h2 id="代理模式版本"><a href="#代理模式版本" class="headerlink" title="代理模式版本"></a>代理模式版本</h2><p>代理，顾名思义就是起到一个控制作用，实现的是和本体一样的接口方法，只是在发送请求的时候，进行参数的检查，或者是动态生成本体对象，然后向服务器发送请求。@myunlesser 兄指点我用js模板方法，这个方法高明了很多，因为每个SNS平台的url参数很不一样，如果每次都要检测这么多参数，将会非常麻烦。然而它们只是名字不同而已，我们可以赋予相同的标签如<code>{title}</code>，这样可以起到一个转接的作用。故而可以使用模板的方法，将匹配到的参数填充到url中。只需要在传入参数时指定参数对，然后用<code>fetchData</code>方法组装起来。</p>
<pre><code>var share2SNS = (function(){

    // 所有url集中在一处，而且表示方法很自由
    // 如sina的title是title+content 那么 使用${title} ${content}就能够将它们组合在一起，模板的威力可见一斑
        var urls = {
            sina: &quot;http://v.t.sina.com.cn/share/share.php?pic=${pics}&amp;title=${title} ${content}&amp;url=${url}&quot;,
            douban: &quot;http://www.douban.com/recommend/?url=${url}&amp;title=${title}&quot;
            // ...
        };

        function _openWindow(url, name, properties) {
            properties = (properties || &quot;&quot;);
            if (!window.open(url, name, properties)) {
                window.self.location.href = url;
            }
            return false;
        };

        // build the url 
        function _fetchData(platform, params){
            // fetch and replace
            var baseUrl = &apos;&apos;+urls[platform];
            var exp = /\$\{([^\{\}]+)\}/g;  // 括号里面的是分组
            var tmp = &apos;&apos;;
            // 对url的参数进行填充
            baseUrl = baseUrl.replace(exp, function(a, match){    
                // a is the whole match: ${abc}, match is the group:abc
                tmp = (params||{})[match]  || &apos;&apos;;    // get the proper params
                return encodeURIComponent(tmp);    
            });
            return baseUrl;
        }


        // return proxy
        return {
            // public 
            // params {title, content, url, pics} 唯一要知道的接口
            shareTo : function (platform, params){
                params[&apos;title&apos;] = params[&apos;title&apos;] || undefined, 
                params[&apos;content&apos;] = params[&apos;content&apos;] || undefined,
                params[&apos;url&apos;] = params[&apos;url&apos;] || undefined,
                params[&apos;pics&apos;] = params[&apos;pics&apos;] || undefined;

                var surl = _fetchData(platform, params);
                // console.log(surl);
                _openWindow(surl, platform);
            }
        };

})();
</code></pre><p>使用闭包的立即执行函数返回一个share2SNS的单体，外部只能通过shareTo方法调用：</p>
<pre><code>share2SNS.shareTo(&apos;sina&apos;, {
        title: &apos;IT小小鸟&apos;,
        url: &apos;http://bibodeng.com&apos;,
        content: &apos;我们的大学生活&apos;,
        pics: &apos;http://bibodeng.com/bibodeng/IT_birds/img/daoluan.png&apos;
});
</code></pre><p>可以说比较核心的方法就是js模板，我曾经想过让用户传入特定的参数对，例如<code>{href:&#39;http://bibodeng.com&#39;， pic: &#39;daoluan.png&#39;}</code> 等名字不一的键值对，然后通过join操作用&amp;连起来，但是那样会增大接口使用者的负担，而且没有起到解耦的作用。</p>
<p>一个程序员，要把复杂的事情变简单，这才是能力。又长又臭的代码，谁都可以写，但是优雅简洁的代码不是随便能写出来的。最近在学习《javascript设计模式》，里面的很多的东西都能够把事情变得简单，虽然一些模式本身就挺复杂的，但是掌握了其框架之后，写出来的代码明显优雅了很多。之前在实习的过程中碰到稍复杂的功能需求时感觉力不从心，很大程度就是不懂设计模式，看的过程种很多次都会发出这样的感慨，原来我不知不觉用过一些模式，而且有些模式用了之后整个app就简单了很多。继续攻书。</p>
<p>by bibodeng 2013-11-21</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2013/11/12/【转】精力的培养/" itemprop="url">
                  【转】精力的培养
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2013-11-12T11:22:37+08:00" content="2013-11-12">
              2013-11-12
            </time>
          </span>

          

          
            
          

          
	
          
          
             <span id="/2013/11/12/【转】精力的培养/" class="leancloud_visitors" data-flag-title="【转】精力的培养">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="精力的培养"><a href="#精力的培养" class="headerlink" title="精力的培养"></a>精力的培养</h2><p>人的精力是颇为有限的。付出的过程比获取要长很多。做任何有益于自己的，成长性的事情都需要付出精力，这也要求人们有节制的使用这一无形资本——我认为这些显而易见的道理，越早想明白越好。</p>
<p>曾经有很长的一段时间我不明白为什么每当我参加一些人数众多，气氛热闹，互动频繁的活动时就会情绪低落，即使是参加大型同学聚会，面对大家欢快的讨论，我也多少有些拘谨。直到很久以后，我才明白这种性格特质叫：内向。而内向意味着个体在独处或面对有限的对象时精力充沛，而却对超出自我界限的对象则感到茫然无助，乃至疲惫不堪。</p>
<p>从那以后，我开始细心观察我身体中流淌着的无形力量：精力。进而不断的总结出关于精力的种种理论，并运用在生活中。一个很重要的前提即是，人们需要迫切的了解到他们适合做什么，不适合做什么，做什么精力耗费的极快，做什么有助于恢复精力。一旦了解到了这一点并合理分配调控，生活中的一些问题就可以得到解决。</p>
<p>有很多人喜欢抱怨“无聊”，我认为，“无聊”其实就是精力不济的一种标志。在这种状态下，你几乎不可能做任何“有意义”的事情——比如高效率的工作、学习。你只能做一些娱乐性较高看似放松的事情，比如吃零食，上网，看肥皂剧，玩游戏，等等。但在这一过程中，你内心的斗志实质上是被逐渐消磨的。随着时间逐渐拉长，你的精力愈发的懈怠，往往会坠入更深的无聊之中。</p>
<p>当然，现在你已经知道了，下次当你在一个百无聊赖的周末醒来，你不应该再用这些事情来帮助自己“放松”，从而在无聊的恶性循环中打转。但要根本性的了解该怎么做，你需要从头开始。</p>
<h3 id="适合做什么，不适合做什么"><a href="#适合做什么，不适合做什么" class="headerlink" title="适合做什么，不适合做什么"></a>适合做什么，不适合做什么</h3><p> 我有一个朋友，对她而言，阅读就是呼吸一般的存在，她在一切可能的时间都在看书（这个例子我已经举过好几次了，看过我别的文章的人都知道）。与此同时，与人闲聊、打发时间却是一件对她来说比较困难的事情。如果一段时间我和她的聊天都毫无主题，四处飞散，她就会不由自主的开始看书，上网，读文章……而且她也不太喜欢和人保持太过紧密的日常联系。很显然，对她而言，阅读是一件毫不费力的事情，甚至在每天长达数小时的专注阅读中，她的精力还在缓慢的增长。但与人日常交际上她就不是很热衷了，如果去到一个纯交际的场所，她还会觉得很烦躁。</p>
<p> 强求本能中的自己进行改变是一件吃力不讨好的事情。比如你明明是一个内向的人，非要强求自己去当大众的开心果；明明你是一个耿直的人，非要强求自己去说言不由衷的话；明明你有一个不错的爱好，却因为听闻别的爱好更“好”而去盲从——这些事情会极大的耗费你的精力，使得你的每一天在应付这些事情时就已疲惫不堪，怎么可能还有空闲去做别的事呢？所以，认清自己、阅读自己是做好这一切的第一步。</p>
<h3 id="训练自己的精力"><a href="#训练自己的精力" class="headerlink" title="训练自己的精力"></a>训练自己的精力</h3><p> 很显然，在那些让我们感到精力充沛和身心愉快的事情中，有一部分是颇为有建设性的，有些单纯只是为了娱乐。而在我们所能接受的范围以内，还存在着一些对自己颇为有益的事情。这个时候，需要的就是对自己的精力进行训练，以使得自己能在有意义的事情上保持更长的时间。</p>
<p>比如，我可以坚持连续严肃阅读——这件颇为有意义的事情——一个小时，而当一个小时之后，我就需要休息一小会儿或看些轻松的东西。而在一天的时间里，我的阅读上限在三个小时左右，当一天我将这么长的时间全部投入到阅读中时，再看什么我都脑中一片混沌，理解和记忆能力大为下降。很显然，虽然阅读这件事并不会明显耗费我的精力，但精力值中的确只有不多的一部分可以用在阅读这件事上。怎么办呢？这个时候就需要训练，不必训练到那位书痴读书如呼吸饮水般的程度，但要将这一上限大大提高，高到自己预料之外的程度。</p>
<p> 任何事情都需要训练，运动员要训练肌肉记忆，做学问的要训练神经突触，蓄养精力也是同样的道理。将做有意义的事情时的精力上限提高并不仅仅意味着下次再做这件事情的时候能坚持的时间更长，而是意味着即使你只做一定的时间，你的效率也会大为增强。那些书痴们的阅读效率和速度将远高于我们，这一结论是毫无疑问的。更为重要的是，随着精力的逐步增强，你在做一件事情时将会变得更为得心应手，并从中获取之前从未有过的愉悦感。（当你一次可以跑二十公里时，随意跑上个三公里只是在享受，而锻炼的效果却已经达到了）</p>
<p>在逐步的训练中，做某件事的精力值逐步提高了，而因为其趣味性也不断增强，你做其他相较之“不重要”的事情的时间也就缩短了。你的生活将变得更有意义，更加充实，对自我的成长帮助也越大。可能会有人觉得这种认识和方法太过功利化，为什么我们的生活不能惬意一点呢？我认为，在这个竞争极其激烈，每个人的综合素质已经变得越来越重要的时代，对自我的提高已经成了每天的必修课，这使得我们有必要为之调整我们的状态，并付出努力。同时，既然在坚持一段时间之后那些更有意义的事情也能带给我们快乐，又何乐而不为呢？</p>
<h3 id="分配你的精力"><a href="#分配你的精力" class="headerlink" title="分配你的精力"></a>分配你的精力</h3><p>人的精力终归是有限的，或者说，一天的时间终归是有限的，所以精力在不同的事情上必然要有所分配。于此同时，不管我们如何努力，生活中必然还是有一些事情让我们感到为难，违背了自己的本性，或者难以被训练，但却仍然需要做，还有一些事情我们明知道很损耗精力，但还是很愿意做。这时候分配就是一件重要的事情。</p>
<p> 如果你一大早就抢着把乐意做的事情做完了，而把最难完成的事情留到最后，那每天回到家时，你必然感到很疲惫，很倦怠。加之很多人又次错误的方法“放松”自己，再延长上床的时间，周而复始，很多人的生活呈现的实际上是一个下滑的曲线。而不幸的是，大多数人进入的实际上就是这样一种状态。</p>
<p>很显然，为了做那些我们需要耗费很大精力去完成的事情——比如工作——我们需要做充足的准备，留出足够的空档，并在其后对自己进行恢复。生活中总有很多事情让人感到崩溃，错误的策略将使这些事情演变为对自己的惩罚。</p>
<p>对于那些我必须要做但又让我感到痛苦的事情，我在做之前首先要鼓足自己的勇气。我会写一篇日记或什么其他让自己感到满足的文字（比如这篇），做一种很有规律很遵从规则能让自己从重复性中获得满足的练习（比如摹字），或者完成一件让我高兴的事情（比如看一集纪录片）。（注意，你需要做的所有事情都要让自己集中，而不是涣散。所以做娱乐性较强的事情是不行的。）在这些事情做完之后，我就开始埋头完成自己之前的计划，在这其中穿插进行着一些不影响我做事的小动作，比如听音乐，或看一篇文章，等等。待我完成时，我会感到疲惫，于是我会进而做一些让自己轻松但又不会让自己懈怠的事情。事实上，这一切都是轻而易举的完成的，不是刻意完成的。当一个过程为自己所熟悉的时候，一切就变成自然而然的事情了。</p>
<p> 再强调一遍，人与人之间是不同的。与其耗尽精力强迫自己，不如想点办法。有的人是工作狂，有的人——比如我——对工作往往燃不起热情。但工作是必须的，所以应对工作，我不断的寻找新的解决办法。直到我能够随时恢复自己的精力，或感觉工作不再是那么的痛苦。</p>
<p> 在除了学习和工作以外的其他时间，分配同样重要。如果你决定每天晚上回家的时间是自己的充电时间——看书，看电影，写作——那你就不可以让自己回家的时候已经感到难受和疲惫。你可以将事情挪到其他时间去做，可以在下班后先做一些让自己兴奋的事情，可以通过训练让自己在某些事情上如鱼得水……不管怎样，你总要找到办法让自己每天的生活更加均衡，而不是完成中间的某一个部分之后就做不了别的事情了。</p>
<h3 id="精力与体力的关系"><a href="#精力与体力的关系" class="headerlink" title="精力与体力的关系"></a>精力与体力的关系</h3><p> 我之所以将体力插进这里讲是因为体力是一个非常重要的存在，它可以说是精力存在的保证，乃至来源。一个病人——体力水平低于正常人的人——必然没有足够的精力来做任何事情。一个身体孱弱坐公交都会晕车的人，自然也没有足够的体力来保证自己发挥精力的作用。体力是一个人健康程度的象征，如果不够健康的话，自然会常受各种因素影响，没有办法把注意力集中到做有益的事情上去。当然，体力的重要性还不限于此。体力与精力是两种有弹性的魔力，如果能正确的运用这两者的力量，将会带来事半功倍的效果。</p>
<p> 很久以前我听过一个故事，讲一个人每天上班前都会进行半个小时的有氧训练，之后就能精力充沛的工作一整天。当我刚听到这个故事的时候是无法相信的，如果那时我也在工作前有氧运动半小时，整天我都会昏昏欲睡。当然，这就是一个进入了良性循环的人和一个刚刚开始循环的人的差别。</p>
<p>体力和精力都是一种可快速恢复的，弹性十足且通过训练可以显著提高的能量，尤其对于那些已经进行过训练的人而言。而当人因体育锻炼而精神焕发的时候，他的精力也随之反弹，而且这一过程经常性并不随着体力值的降低而呈正相关。你是不是有过这样一种体验：有时候你经过一天的奔波，体力运动，你反而感到精力旺盛，异常兴奋，甚至不能快速睡着。也许这种特例并不能说明体力值降低时人们的精力甚至能随之增长，但它也说明了运动的重要性。</p>
<p>显而易见的是，如果你一整天甚至更长的时间都待在家里，那你恐怕根本没法保持精力旺盛。</p>
<h3 id="保护精力不受损害"><a href="#保护精力不受损害" class="headerlink" title="保护精力不受损害"></a>保护精力不受损害</h3><p> 既然精力是如此重要并容易流失的一项无形资产，那么保护它则显而易见是一件重要的事情。现代社会节奏更快，强度更高，各种各样的事物和信息散落在各处，处处都在损害着精力。现在还没有太好的办法能归纳所有规避的方法，但我想以下的几点是显而易见的：</p>
<pre><code>1. 避免关注于己无关 /没有意义的事情。
</code></pre><p>有太多的人每天把注意力放在与自己完全无关的事情上，以此消磨自己的意志、精力和时间，原因只是因为他们很“无聊”。我不得不说这是一种恶劣的恶性循环。“无聊”是因为精力不济，而消磨时光的方式则带来自己更大层面上的损失：精力更加衰弱，精神懈怠，时间消耗。最后呢？他们真的能获得什么快乐吗？事实上是没有的。而且随着关注没有意义的新闻和事件带来的后续效应则经常性更加能伤害人。争论、怒气、不切实际的想法……除了这些以外，我很难看到这种关注带来的良性后果。如果有一部分人实在觉得每天关注些杂文段子能让自己感到娱乐，那如同我上文说到的那样，请注意良好的分配。</p>
<pre><code>2. 避免情绪的波动。
</code></pre><p>在我所知道的所有事情中，没有什么比强烈的情绪更能直接损耗一个人的精力。如果是强烈的快乐和兴奋还好，但如果是强烈的负面情绪，则会直接让一个人的精力陷入瘫痪。对于有些悲伤、痛苦和焦虑来说，避免是一件不可能的事情，但对于其他的部分，则考验着一个人的应对能力。有些类似的情绪还来源于自己，如果事实如此，那我们就需要好好考虑自己生活的策略了。</p>
<pre><code>3. 保持生活的平衡。
</code></pre><p>保持生活的平衡包括两部分，身体的平衡和心理的平衡。身体的平衡要求人们对自己的摄入、睡眠、运动保持掌控，对需要身体的任何情况应对自如。心理平衡则是同理，它是在“避免情绪波动”之上的一个范畴。这是一个很玄乎的状态，很难用文字表达出来。但当你处于这种状态时，则会时常感觉到平和、富足，而如果这种状态鲜有出现，则应该努力往这个方向靠拢。</p>
<pre><code>4. 不要在精力充沛的时候做一些损害精力的事情。
</code></pre><p>感到自己现在精力充沛，状态良好？这是一个好开头，但也可能仍然指向一个不佳的结尾。也许你没必要强迫自己非得立即做出什么了不起的事情来，但至少应该抓住这个好机会更进一步。记住，错误的放松方式是一种恶性循环，你会在不知不觉之中毁掉自己良好的状态和之前的努力。</p>
<h3 id="获取精力"><a href="#获取精力" class="headerlink" title="获取精力"></a>获取精力</h3><p>获取精力其实是和保护精力不受损害对应的概念，但它更侧重于我们要去做什么，而不是不去做什么。我认为以下几点是通过实践表明非常有效且值得分享的：</p>
<pre><code>1. 保持规律而充足的睡眠：
</code></pre><p>保持规律而充足的睡眠是如此的重要，重要到那些即使在生活其他方面一团糟的人经过睡眠的修复，也能快速的恢复到一个不错的状态。我有一位友人每天晚上都比前一天睡的晚一点，直至早晨睡觉晚上起床，再到中午睡觉午夜起床，最后又在一段很短的时间里变成了晚上睡觉早上起床……我一直认为她的作息是根本无药可救的，这一糟糕透顶的生活方式也给她带来了很大的伤害。譬如她糟糕的健康状况，美丽的妆容下晦暗的皮肤，暴躁的情绪和无穷无尽的纠结。即使她每天保持正常的状态比普通人要少很多，但经过一个漫长而深度的睡眠，她还是能很快的恢复到正常的状态下，并在那种状态下做一些自己喜欢做的事情，由此充分可见睡眠的重要作用。你应该也有在痛苦的夜晚睡去，经过长时间睡眠之后感觉好多了的经历。所以，请保持足够的、规律的睡眠，并不要找任何理由。虽然总有特殊情况，但可以肯定的是，大多数人晚睡的原因都不是什么正经的事儿，尤其是长期作息不规律的往往更是如此。将注意力集中在没有必要的事情上让人疲惫，睡前刷新网页，玩手机更是会直接损害睡眠质量……何必呢？看看书，保持沉静，安稳睡去，你的七到八个小时睡眠时间绝对不会在白天辜负你。</p>
<p>至于睡眠时间，最好的一种莫过于每天早晨在一个准确的时间起床，并长期坚持，方法在 <a href="http://www.douban.com/group/topic/10838192/" target="_blank" rel="noopener">这里</a></p>
<pre><code>2. 培养正确的爱好：
</code></pre><p>很遗憾，即使完全不想摆出一副“政治正确”的模样，但是事实就是如此：有些爱好就是比其他爱好要更好，比如阅读、观影、写作、摄影、画画，等等。这些爱好会让你感到开心，愉悦，幸福，满足，起到一些其他爱好无法满足的作用。人生出来的时候绝大多数都是大俗人，除了真正的天才，没有人天生就喜欢这些事情，很多是后天熏陶成的，甚至逼成的。当大众都知道这类爱好更好且更有意义的时候，我想需要的就是努力靠近，努力学习。有很多人在懈怠下来的时候第一想要去做的就是一种事实上没有多大真正趣味也不会带来多好结果的事情，与其做这些带来不那么好的结果，不如培养自己去喜爱更有价值的爱好。</p>
<p> 当然，这个里面有一点是需要强调的，有些看起来并不怎么有意义的爱好会因人而异产生完全不同的效果。如果你做了而使自己获得了真正的放松——比如狂欢之后感到情绪被宣泄（换到我只会感觉到空虚）——那你当然可以那么做。这一点归根结底还是要弄清自己真正适合做的是什么。</p>
<pre><code>3. 保持活动
</code></pre><p>我已经在体力和精力这一节谈到了这一点，但我在这里要进一步的强调。也许你真的找到了一百条不去专门做锻炼的理由（像我一样），那至少保持运动，不要让自己待在同一个地方。我每天上下班时一共要在路上走一个小时，经常外出参加活动或自己跑去什么地方转转，如果正好穿着运动鞋，我偶尔也随便跑一跑。虽然和那些动辄万米的资深跑友无法相比，但我的确也因此获取了更多做事的精力。谨记：生命是一种流动中的形式，一个不动的人是很难有活力的。即使以坐着写作为生的作家，也普遍都有外出散步的习惯。呆在一间小屋子里人能产生什么精神呢？除了独自徒生闷气以外。</p>
<p>曾经我也在我所描述的那种恶性循环中度过一天又一天，在各种毫无意义的事情上虚度光阴，浪费青春年华中的好时光而找找不到出路。直到我细心观察自己生活中的细节并从其中找出规律找出方法并在漫长的时间里坚持实践，才逐渐把握了生活的节奏。随着工作节奏的不断加快，各种新情况的出现，自我要求的迅速提高，我不断修正之前想法的错误，提出新理论以解决现实困难。正是在这种思索当中，思维得以飞越，理念得以宽广，意志得以坚恒。降低重心，集中意念，生活才可以简单而富足，无论你最终向往的是哪一层面的成功，这一领域的修行都能引你走到更远。</p>
<p>要知道，我们所有人都会老去，而我们中的几乎所有人都会比自己想像之中更早的老去，而老去时最常见的语言莫过于“精力有限”，“心有余而力不足”。等到这一能量无可救药离我们远去的时候，我们应该有让自己骄傲的珍惜。到时候你才不会后悔的说，当我在还有机会发挥潜能的时候，却让财富从我的生命中偷偷流走。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/bitcoin-cash-logo.svg"
               alt="bibodeng" />
          <p class="site-author-name" itemprop="name">bibodeng</p>
          <p class="site-description motion-element" itemprop="description">区块链爱好者，互联网从业者</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">180</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/bibodeng" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/bibodeng" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/bibodeng" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://ifwallet.com" title="IFWallet" target="_blank">IFWallet</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://ifpass.cash" title="IFPassword" target="_blank">IFPassword</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">bibodeng</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("RrMSWOa8nuCnCCWn8TyPa7Od-gzGzoHsz", "8xnzit83sqv6vUEuXlsEWe0s");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
